!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},n={},r={},o={}.hasOwnProperty,i="components/",s=function(t,e){var n=0;e&&(0===e.indexOf(i)&&(n=i.length),e.indexOf("/",n)>0&&(e=e.substring(n,e.indexOf("/",n))));var o=r[t+"/index.js"]||r[e+"/deps/"+t+"/index.js"];return o?i+o.substring(0,o.length-".js".length):t},u=/^\.\.?(\/|$)/,a=function(t,e){for(var n,r=[],o=(u.test(e)?t+"/"+e:e).split("/"),i=0,s=o.length;s>i;i++)n=o[i],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},c=function(t){return t.split("/").slice(0,-1).join("/")},l=function(e){return function(n){var r=a(c(e),n);return t.require(r,e)}},f=function(t,e){var r={id:t,exports:{}};return n[t]=r,e(r.exports,l(t),r),r.exports},h=function(t,r){var i=a(t,".");if(null==r&&(r="/"),i=s(t,r),o.call(n,i))return n[i].exports;if(o.call(e,i))return f(i,e[i]);var u=a(i,"./index");if(o.call(n,u))return n[u].exports;if(o.call(e,u))return f(u,e[u]);throw new Error('Cannot find module "'+t+'" from "'+r+'"')};h.alias=function(t,e){r[e]=t},h.register=h.define=function(t,n){if("object"==typeof t)for(var r in t)o.call(t,r)&&(e[r]=t[r]);else e[t]=n},h.list=function(){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t},h.brunch=!0,h._cache=n,t.require=h}}(),function(){function t(){}function e(t){return t}function n(t){return!!t}function r(t){return!t}function o(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function i(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function s(t){return L(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function u(t,e){return s(t)?a(t,e):h(t,e)}function a(t,e){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t)}function c(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function l(t){return c(Array(t),function(t,e){return e})}function f(t,e,n){return a(t,function(t,r,o){n=e(n,t,r,o)}),n}function h(t,e){a(N(t),function(n){e(t[n],n)})}function p(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function d(t){var e,n,r=-1;return s(t)?(e=t.length,function(){return r++,e>r?r:null}):(n=N(t),e=n.length,function(){return r++,e>r?n[r]:null})}function y(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;n>o;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r)}}}function m(t){return function(e,n,r){return t(e,r)}}function g(e){return function(n,r,s){s=i(s||t),n=n||[];var u=d(n);if(0>=e)return s(null);var a=!1,c=0,l=!1;!function f(){if(a&&0>=c)return s(null);for(;e>c&&!l;){var t=u();if(null===t)return a=!0,void(0>=c&&s(null));c+=1,r(n[t],t,o(function(t){c-=1,t?(s(t),l=!0):f()}))}}()}}function v(t){return function(e,n,r){return t(j.eachOf,e,n,r)}}function b(t){return function(e,n,r,o){return t(g(n),e,r,o)}}function w(t){return function(e,n,r){return t(j.eachOfSeries,e,n,r)}}function E(e,n,r,o){o=i(o||t);var s=[];e(n,function(t,e,n){r(t,function(t,r){s[e]=r,n(t)})},function(t){o(t,s)})}function k(t,e,n,r){var o=[];t(e,function(t,e,r){n(t,function(n){n&&o.push({index:e,value:t}),r()})},function(){r(c(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function _(t,e,n,r){k(t,e,function(t,e){n(t,function(t){e(!t)})},r)}function C(t,e,n){return function(r,o,i,s){function u(){s&&s(n(!1,void 0))}function a(t,r,o){return s?void i(t,function(r){s&&e(r)&&(s(n(!0,t)),s=i=!1),o()}):o()}arguments.length>3?t(r,o,a,u):(s=i,i=o,t(r,a,u))}}function A(t,e){return e}function D(e,n,r){r=r||t;var o=s(n)?[]:{};e(n,function(t,e,n){t(y(function(t,r){r.length<=1&&(r=r[0]),o[e]=r,n(t)}))},function(t){r(t,o)})}function S(t,e,n,r){var o=[];t(e,function(t,e,r){n(t,function(t,e){o=o.concat(e||[]),r(t)})},function(t){r(t,o)})}function x(e,n,r){function i(e,n,r,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return e.started=!0,L(n)||(n=[n]),0===n.length&&e.idle()?j.setImmediate(function(){e.drain()}):(a(n,function(n){var i={data:n,callback:o||t};r?e.tasks.unshift(i):e.tasks.push(i),e.tasks.length===e.concurrency&&e.saturated()}),void j.setImmediate(e.process))}function s(t,e){return function(){u-=1;var n=arguments;a(e,function(t){t.callback.apply(t,n)}),t.tasks.length+u===0&&t.drain(),t.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var u=0,l={tasks:[],concurrency:n,payload:r,saturated:t,empty:t,drain:t,started:!1,paused:!1,push:function(t,e){i(l,t,!1,e)},kill:function(){l.drain=t,l.tasks=[]},unshift:function(t,e){i(l,t,!0,e)},process:function(){if(!l.paused&&u<l.concurrency&&l.tasks.length)for(;u<l.concurrency&&l.tasks.length;){var t=l.payload?l.tasks.splice(0,l.payload):l.tasks.splice(0,l.tasks.length),n=c(t,function(t){return t.data});0===l.tasks.length&&l.empty(),u+=1;var r=o(s(l,t));e(n,r)}},length:function(){return l.tasks.length},running:function(){return u},idle:function(){return l.tasks.length+u===0},pause:function(){l.paused=!0},resume:function(){if(l.paused!==!1){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;t>=e;e++)j.setImmediate(l.process)}}};return l}function T(t){return y(function(e,n){e.apply(null,n.concat([y(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&a(n,function(e){console[t](e)}))})]))})}function F(t){return function(e,n,r){t(l(e),n,r)}}function O(t){return y(function(e,n){var r=y(function(n){var r=this,o=n.pop();return t(e,function(t,e,o){t.apply(r,n.concat([o]))},o)});return n.length?r.apply(this,n):r})}function M(t){return y(function(e){var n=e.pop();e.push(function(){var t=arguments;r?j.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var r=!0;t.apply(this,e),r=!1})}var B,j={},P="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=P&&(B=P.async),j.noConflict=function(){return P.async=B,j};var Y=Object.prototype.toString,L=Array.isArray||function(t){return"[object Array]"===Y.call(t)},I=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},N=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},R="function"==typeof setImmediate&&setImmediate,U=R?function(t){R(t)}:function(t){setTimeout(t,0)};"object"==typeof process&&"function"==typeof process.nextTick?j.nextTick=process.nextTick:j.nextTick=U,j.setImmediate=R?U:j.nextTick,j.forEach=j.each=function(t,e,n){return j.eachOf(t,m(e),n)},j.forEachSeries=j.eachSeries=function(t,e,n){return j.eachOfSeries(t,m(e),n)},j.forEachLimit=j.eachLimit=function(t,e,n,r){return g(e)(t,m(n),r)},j.forEachOf=j.eachOf=function(e,n,r){function a(t){t?r(t):(l+=1,l>=c&&r(null))}r=i(r||t),e=e||[];var c=s(e)?e.length:N(e).length,l=0;return c?void u(e,function(t,r){n(e[r],r,o(a))}):r(null)},j.forEachOfSeries=j.eachOfSeries=function(e,n,r){function s(){var t=!0;return null===a?r(null):(n(e[a],a,o(function(e){if(e)r(e);else{if(a=u(),null===a)return r(null);t?j.nextTick(s):s()}})),void(t=!1))}r=i(r||t),e=e||[];var u=d(e),a=u();s()},j.forEachOfLimit=j.eachOfLimit=function(t,e,n,r){g(e)(t,n,r)},j.map=v(E),j.mapSeries=w(E),j.mapLimit=b(E),j.inject=j.foldl=j.reduce=function(t,e,n,r){j.eachOfSeries(t,function(t,r,o){n(e,t,function(t,n){e=n,o(t)})},function(t){r(t||null,e)})},j.foldr=j.reduceRight=function(t,n,r,o){var i=c(t,e).reverse();j.reduce(i,n,r,o)},j.select=j.filter=v(k),j.selectLimit=j.filterLimit=b(k),j.selectSeries=j.filterSeries=w(k),j.reject=v(_),j.rejectLimit=b(_),j.rejectSeries=w(_),j.any=j.some=C(j.eachOf,n,e),j.someLimit=C(j.eachOfLimit,n,e),j.all=j.every=C(j.eachOf,r,r),j.everyLimit=C(j.eachOfLimit,r,r),j.detect=C(j.eachOf,e,A),j.detectSeries=C(j.eachOfSeries,e,A),j.detectLimit=C(j.eachOfLimit,e,A),j.sortBy=function(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0}j.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){return t?n(t):void n(null,c(e.sort(r),function(t){return t.value}))})},j.auto=function(e,n){function r(t){d.unshift(t)}function o(t){var e=p(d,t);e>=0&&d.splice(e,1)}function s(){c--,a(d.slice(0),function(t){t()})}n=i(n||t);var u=N(e),c=u.length;if(!c)return n(null);var l={},d=[];r(function(){c||n(null,l)}),a(u,function(t){function i(){return f(m,function(t,e){return t&&l.hasOwnProperty(e)},!0)&&!l.hasOwnProperty(t)}function u(){i()&&(o(u),c[c.length-1](d,l))}for(var a,c=L(e[t])?e[t]:[e[t]],d=y(function(e,r){if(r.length<=1&&(r=r[0]),e){var o={};h(l,function(t,e){o[e]=t}),o[t]=r,n(e,o)}else l[t]=r,j.setImmediate(s)}),m=c.slice(0,c.length-1),g=m.length;g--;){if(!(a=e[m[g]]))throw new Error("Has inexistant dependency");if(L(a)&&p(a,t)>=0)throw new Error("Has cyclic dependencies")}i()?c[c.length-1](d,l):r(u)})},j.retry=function(t,e,n){function r(t,e){if("number"==typeof e)t.times=parseInt(e,10)||i;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||s}}function o(t,e){function n(t,n){return function(r){t(function(t,e){r(!t||n,{err:t,result:e})},e)}}function r(t){return function(e){setTimeout(function(){e(null)},t)}}for(;a.times;){var o=!(a.times-=1);u.push(n(a.task,o)),!o&&a.interval>0&&u.push(r(a.interval))}j.series(u,function(e,n){n=n[n.length-1],(t||a.callback)(n.err,n.result)})}var i=5,s=0,u=[],a={times:i,interval:s},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof t&&(n=e,e=t),"function"!=typeof t&&r(a,t),a.callback=n,a.task=e,a.callback?o():o},j.waterfall=function(e,n){function r(t){return y(function(e,o){if(e)n.apply(null,[e].concat(o));else{var i=t.next();i?o.push(r(i)):o.push(n),M(t).apply(null,o)}})}if(n=i(n||t),!L(e)){var o=new Error("First argument to waterfall must be an array of functions");return n(o)}return e.length?void r(j.iterator(e))():n()},j.parallel=function(t,e){D(j.eachOf,t,e)},j.parallelLimit=function(t,e,n){D(g(e),t,n)},j.series=function(t,e){D(j.eachOfSeries,t,e)},j.iterator=function(t){function e(n){function r(){return t.length&&t[n].apply(null,arguments),r.next()}return r.next=function(){return n<t.length-1?e(n+1):null},r}return e(0)},j.apply=y(function(t,e){return y(function(n){return t.apply(null,e.concat(n))})}),j.concat=v(S),j.concatSeries=w(S),j.whilst=function(e,n,r){if(r=r||t,e()){var o=y(function(t,i){t?r(t):e.apply(this,i)?n(o):r(null)});n(o)}else r(null)},j.doWhilst=function(t,e,n){var r=0;return j.whilst(function(){return++r<=1||e.apply(this,arguments)},t,n)},j.until=function(t,e,n){return j.whilst(function(){return!t.apply(this,arguments)},e,n)},j.doUntil=function(t,e,n){return j.doWhilst(t,function(){return!e.apply(this,arguments)},n)},j.during=function(e,n,r){r=r||t;var o=y(function(t,n){t?r(t):(n.push(i),e.apply(this,n))}),i=function(t,e){t?r(t):e?n(o):r(null)};e(i)},j.doDuring=function(t,e,n){var r=0;j.during(function(t){r++<1?t(null,!0):e.apply(this,arguments)},t,n)},j.queue=function(t,e){var n=x(function(e,n){t(e[0],n)},e,1);return n},j.priorityQueue=function(e,n){function r(t,e){return t.priority-e.priority}function o(t,e,n){for(var r=-1,o=t.length-1;o>r;){var i=r+(o-r+1>>>1);n(e,t[i])>=0?r=i:o=i-1}return r}function i(e,n,i,s){if(null!=s&&"function"!=typeof s)throw new Error("task callback must be a function");return e.started=!0,L(n)||(n=[n]),0===n.length?j.setImmediate(function(){e.drain()}):void a(n,function(n){var u={data:n,priority:i,callback:"function"==typeof s?s:t};e.tasks.splice(o(e.tasks,u,r)+1,0,u),e.tasks.length===e.concurrency&&e.saturated(),j.setImmediate(e.process)})}var s=j.queue(e,n);return s.push=function(t,e,n){i(s,t,e,n)},delete s.unshift,s},j.cargo=function(t,e){return x(t,1,e)},j.log=T("log"),j.dir=T("dir"),j.memoize=function(t,n){var r={},o={};n=n||e;var i=y(function(e){var i=e.pop(),s=n.apply(null,e);s in r?j.nextTick(function(){i.apply(null,r[s])}):s in o?o[s].push(i):(o[s]=[i],t.apply(null,e.concat([y(function(t){r[s]=t;var e=o[s];delete o[s];for(var n=0,i=e.length;i>n;n++)e[n].apply(null,t)})])))});return i.memo=r,i.unmemoized=t,i},j.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},j.times=F(j.map),j.timesSeries=F(j.mapSeries),j.timesLimit=function(t,e,n,r){return j.mapLimit(l(t),e,n,r)},j.seq=function(){var e=arguments;return y(function(n){var r=this,o=n[n.length-1];"function"==typeof o?n.pop():o=t,j.reduce(e,n,function(t,e,n){e.apply(r,t.concat([y(function(t,e){n(t,e)})]))},function(t,e){o.apply(r,[t].concat(e))})})},j.compose=function(){return j.seq.apply(null,Array.prototype.reverse.call(arguments))},j.applyEach=O(j.eachOf),j.applyEachSeries=O(j.eachOfSeries),j.forever=function(e,n){function r(t){return t?i(t):void s(r)}var i=o(n||t),s=M(e);r()},j.ensureAsync=M,j.constant=y(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),j.wrapSync=j.asyncify=function(t){return y(function(e){var n,r=e.pop();try{n=t.apply(this,e)}catch(o){return r(o)}I(n)&&"function"==typeof n.then?n.then(function(t){r(null,t)})["catch"](function(t){r(t.message?t:new Error(t))}):r(null,n)})},"object"==typeof module&&module.exports?module.exports=j:"function"==typeof define&&define.amd?define([],function(){return j}):P.async=j}(),function(){var t=this,e={};"undefined"!=typeof exports?module.exports=e:t.fuzzy=e,e.simpleFilter=function(t,n){return n.filter(function(n){return e.test(t,n)})},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var r,o=0,i=[],s=e.length,u=0,a=0,c=n.pre||"",l=n.post||"",f=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var h=0;s>h;h++)r=e[h],f[h]===t[o]?(r=c+r+l,o+=1,a+=1+a):a=0,u+=a,i[i.length]=r;return o===t.length?(u=f===t?1/0:u,{rendered:i.join(""),score:u}):null},e.filter=function(t,n,r){return n&&0!==n.length?"string"!=typeof t?n:(r=r||{},n.reduce(function(n,o,i,s){var u=o;r.extract&&(u=r.extract(o));var a=e.match(t,u,r);return null!=a&&(n[n.length]={string:a.rendered,score:a.score,index:i,original:o}),n},[]).sort(function(t,e){var n=e.score-t.score;return n?n:t.index-e.index})):[]}}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return jn.apply(null,arguments)}function e(t){jn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,r){return xt(t,e,n,r,!0).utc()}function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(t){return null==t._pf&&(t._pf=a()),t._pf}function l(t){if(null==t._isValid){var e=c(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function f(t){var e=u(NaN);return null!=t?s(c(e),t):c(e).userInvalidated=!0,e}function h(t,e){var n,r,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=c(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Yn.length>0)for(n in Yn)r=Yn[n],o=e[r],"undefined"!=typeof o&&(t[r]=o);return t}function p(e){h(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Ln===!1&&(Ln=!0,t.updateOffset(this),Ln=!1)}function d(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function y(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function g(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(r=0;o>r;r++)(n&&t[r]!==e[r]||!n&&m(t[r])!==m(e[r]))&&s++;return s+i}function v(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,o,i=0;i<t.length;){for(o=b(t[i]).split("-"),e=o.length,n=b(t[i+1]),n=n?n.split("-"):null;e>0;){if(r=E(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&g(o,n,!0)>=e-1)break;e--}i++}return null}function E(t){var e=null;if(!In[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Pn._abbr,require("./locale/"+t),k(e)}catch(n){}return In[t]}function k(t,e){var n;return t&&(n="undefined"==typeof e?C(t):_(t,e),n&&(Pn=n)),Pn._abbr}function _(t,e){return null!==e?(e.abbr=t,In[t]=In[t]||new v,In[t].set(e),k(t),In[t]):(delete In[t],null)}function C(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pn;if(!n(t)){if(e=E(t))return e;t=[t]}return w(t)}function A(t,e){var n=t.toLowerCase();Nn[n]=Nn[n+"s"]=Nn[e]=t}function D(t){return"string"==typeof t?Nn[t]||Nn[t.toLowerCase()]:void 0}function S(t){var e,n,r={};for(n in t)i(t,n)&&(e=D(n),e&&(r[e]=t[n]));return r}function x(e,n){return function(r){return null!=r?(F(this,e,r),t.updateOffset(this,n),this):T(this,e)}}function T(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function F(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function O(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=D(t),"function"==typeof this[t])return this[t](e);return this}function M(t,e,n){var r=""+Math.abs(t),o=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function B(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(Wn[t]=o),e&&(Wn[e[0]]=function(){return M(o.apply(this,arguments),e[1],e[2])}),n&&(Wn[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,r=t.match(Rn);for(e=0,n=r.length;n>e;e++)Wn[r[e]]?r[e]=Wn[r[e]]:r[e]=j(r[e]);return function(o){var i="";for(e=0;n>e;e++)i+=r[e]instanceof Function?r[e].call(o,t):r[e];return i}}function Y(t,e){return t.isValid()?(e=L(e,t.localeData()),qn[e]=qn[e]||P(e),qn[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Un.lastIndex=0;r>=0&&Un.test(t);)t=t.replace(Un,n),Un.lastIndex=0,r-=1;return t}function I(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function N(t,e,n){or[t]=I(e)?e:function(t){return t&&n?n:e}}function R(t,e){return i(or,t)?or[t](e._strict,e._locale):new RegExp(U(t))}function U(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,o){return e||n||r||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)ir[t[n]]=r}function W(t,e){q(t,function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)})}function z(t,e,n){null!=e&&i(ir,t)&&ir[t](e,n._a,n,t)}function G(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function H(t){return this._months[t.month()]}function V(t){return this._monthsShort[t.month()]}function $(t,e,n){var r,o,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(o=u([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function X(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),G(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function J(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):T(this,"Month")}function Z(){return G(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[ur]<0||n[ur]>11?ur:n[ar]<1||n[ar]>G(n[sr],n[ur])?ar:n[cr]<0||n[cr]>24||24===n[cr]&&(0!==n[lr]||0!==n[fr]||0!==n[hr])?cr:n[lr]<0||n[lr]>59?lr:n[fr]<0||n[fr]>59?fr:n[hr]<0||n[hr]>999?hr:-1,c(t)._overflowDayOfYear&&(sr>e||e>ar)&&(e=ar),c(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return s(function(){return n&&(Q(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){yr[t]||(Q(e),yr[t]=!0)}function nt(t){var e,n,r=t._i,o=mr.exec(r);if(o){for(c(t).iso=!0,e=0,n=gr.length;n>e;e++)if(gr[e][1].exec(r)){t._f=gr[e][0];break}for(e=0,n=vr.length;n>e;e++)if(vr[e][1].exec(r)){t._f+=(o[6]||" ")+vr[e][0];break}r.match(er)&&(t._f+="Z"),Et(t)}else t._isValid=!1}function rt(e){var n=br.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ot(t,e,n,r,o,i,s){var u=new Date(t,e,n,r,o,i,s);return 1970>t&&u.setFullYear(t),u}function it(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return ut(t)?366:365}function ut(t){return t%4===0&&t%100!==0||t%400===0}function at(){return ut(this.year())}function ct(t,e,n){var r,o=n-e,i=n-t.day();return i>o&&(i-=7),o-7>i&&(i+=7),r=Tt(t).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function lt(t){return ct(t,this._week.dow,this._week.doy).week}function ft(){return this._week.dow}function ht(){return this._week.doy}function pt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function dt(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function yt(t,e,n,r,o){var i,s=6+o-r,u=it(t,0,1+s),a=u.getUTCDay();return o>a&&(a+=7),n=null!=n?1*n:o,i=1+s+7*(e-1)-a+n,{year:i>0?t:t-1,dayOfYear:i>0?i:st(t-1)+i}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,n){return null!=t?t:null!=e?e:n}function vt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bt(t){var e,n,r,o,i=[];if(!t._d){for(r=vt(t),t._w&&null==t._a[ar]&&null==t._a[ur]&&wt(t),t._dayOfYear&&(o=gt(t._a[sr],r[sr]),t._dayOfYear>st(o)&&(c(t)._overflowDayOfYear=!0),n=it(o,0,t._dayOfYear),t._a[ur]=n.getUTCMonth(),t._a[ar]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=i[e]=r[e];for(;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[cr]&&0===t._a[lr]&&0===t._a[fr]&&0===t._a[hr]&&(t._nextDay=!0,t._a[cr]=0),t._d=(t._useUTC?it:ot).apply(null,i),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[cr]=24)}}function wt(t){var e,n,r,o,i,s,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(i=1,s=4,n=gt(e.GG,t._a[sr],ct(Tt(),1,4).year),r=gt(e.W,1),o=gt(e.E,1)):(i=t._locale._week.dow,s=t._locale._week.doy,n=gt(e.gg,t._a[sr],ct(Tt(),i,s).year),r=gt(e.w,1),null!=e.d?(o=e.d,i>o&&++r):o=null!=e.e?e.e+i:i),u=yt(n,r,o,s,i),t._a[sr]=u.year,t._dayOfYear=u.dayOfYear}function Et(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],c(e).empty=!0;var n,r,o,i,s,u=""+e._i,a=u.length,l=0;for(o=L(e._f,e._locale).match(Rn)||[],n=0;n<o.length;n++)i=o[n],r=(u.match(R(i,e))||[])[0],r&&(s=u.substr(0,u.indexOf(r)),s.length>0&&c(e).unusedInput.push(s),u=u.slice(u.indexOf(r)+r.length),l+=r.length),Wn[i]?(r?c(e).empty=!1:c(e).unusedTokens.push(i),z(i,r,e)):e._strict&&!r&&c(e).unusedTokens.push(i);c(e).charsLeftOver=a-l,u.length>0&&c(e).unusedInput.push(u),c(e).bigHour===!0&&e._a[cr]<=12&&e._a[cr]>0&&(c(e).bigHour=void 0),e._a[cr]=kt(e._locale,e._a[cr],e._meridiem),bt(e),K(e)}function kt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function _t(t){var e,n,r,o,i;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,e=h({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Et(e),l(e)&&(i+=c(e).charsLeftOver,i+=10*c(e).unusedTokens.length,c(e).score=i,(null==r||r>i)&&(r=i,n=e));s(t,n||e)}function Ct(t){if(!t._d){var e=S(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],bt(t)}}function At(t){var e=new p(K(Dt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Dt(t){var e=t._i,o=t._f;return t._locale=t._locale||C(t._l),null===e||void 0===o&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),d(e)?new p(K(e)):(n(o)?_t(t):o?Et(t):r(e)?t._d=e:St(t),t))}function St(e){var i=e._i;void 0===i?e._d=new Date:r(i)?e._d=new Date(+i):"string"==typeof i?rt(e):n(i)?(e._a=o(i.slice(0),function(t){return parseInt(t,10)}),bt(e)):"object"==typeof i?Ct(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function xt(t,e,n,r,o){var i={};return"boolean"==typeof n&&(r=n,n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=t,i._f=e,i._strict=r,At(i)}function Tt(t,e,n,r){return xt(t,e,n,r,!1)}function Ft(t,e){var r,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Tt();for(r=e[0],o=1;o<e.length;++o)(!e[o].isValid()||e[o][t](r))&&(r=e[o]);return r}function Ot(){var t=[].slice.call(arguments,0);return Ft("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return Ft("isAfter",t)}function Bt(t){var e=S(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||0,s=e.day||0,u=e.hour||0,a=e.minute||0,c=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*c+6e4*a+36e5*u,this._days=+s+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function jt(t){return t instanceof Bt}function Pt(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)})}function Yt(t){var e=(t||"").match(er)||[],n=e[e.length-1]||[],r=(n+"").match(Cr)||["-",0,0],o=+(60*r[1])+m(r[2]);return"+"===r[0]?o:-o}function Lt(e,n){var o,i;return n._isUTC?(o=n.clone(),i=(d(e)||r(e)?+e:+Tt(e))-+o,o._d.setTime(+o._d+i),t.updateOffset(o,!1),o):Tt(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Nt(e,n){var r,o=this._offset||0;return null!=e?("string"==typeof e&&(e=Yt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=It(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?ee(this,Jt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:It(this)}function Rt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ut(t){return this.utcOffset(0,t)}function qt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function Wt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Yt(this._i)),this}function zt(t){return t=t?Tt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(h(t,this),t=Dt(t),t._a){var e=t._isUTC?u(t._a):Tt(t._a);this._isDSTShifted=this.isValid()&&g(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Vt(){return!this._isUTC}function $t(){return this._isUTC}function Xt(){return this._isUTC&&0===this._offset}function Jt(t,e){var n,r,o,s=t,u=null;return jt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(u=Ar.exec(t))?(n="-"===u[1]?-1:1,s={y:0,d:m(u[ar])*n,h:m(u[cr])*n,m:m(u[lr])*n,s:m(u[fr])*n,ms:m(u[hr])*n}):(u=Dr.exec(t))?(n="-"===u[1]?-1:1,s={y:Zt(u[2],n),M:Zt(u[3],n),d:Zt(u[4],n),h:Zt(u[5],n),m:Zt(u[6],n),s:Zt(u[7],n),w:Zt(u[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Qt(Tt(s.from),Tt(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),r=new Bt(s),jt(t)&&i(t,"_locale")&&(r._locale=t._locale),r}function Zt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Kt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return e=Lt(e,t),t.isBefore(e)?n=Kt(t,e):(n=Kt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,r){var o,i;return null===r||isNaN(+r)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,o=Jt(n,r),ee(this,o,t),this}}function ee(e,n,r,o){var i=n._milliseconds,s=n._days,u=n._months;o=null==o?!0:o,i&&e._d.setTime(+e._d+i*r),s&&F(e,"Date",T(e,"Date")+s*r),u&&X(e,T(e,"Month")+u*r),o&&t.updateOffset(e,s||u)}function ne(t,e){var n=t||Tt(),r=Lt(n,this).startOf("day"),o=this.diff(r,"days",!0),i=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(e&&e[i]||this.localeData().calendar(i,this,Tt(n)))}function re(){return new p(this)}function oe(t,e){var n;return e=D("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=d(t)?t:Tt(t),+this>+t):(n=d(t)?+t:+Tt(t),n<+this.clone().startOf(e))}function ie(t,e){var n;return e=D("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=d(t)?t:Tt(t),+t>+this):(n=d(t)?+t:+Tt(t),+this.clone().endOf(e)<n)}function se(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ue(t,e){var n;return e=D(e||"millisecond"),"millisecond"===e?(t=d(t)?t:Tt(t),+this===+t):(n=+Tt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ae(t,e,n){var r,o,i=Lt(t,this),s=6e4*(i.utcOffset()-this.utcOffset());return e=D(e),"year"===e||"month"===e||"quarter"===e?(o=ce(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(r=this-i,o="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?o:y(o)}function ce(t,e){var n,r,o=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(o,"months");return 0>e-i?(n=t.clone().add(o-1,"months"),r=(e-i)/(i-n)):(n=t.clone().add(o+1,"months"),r=(e-i)/(n-i)),-(o+r)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function he(e){var n=Y(this,e||t.defaultFormat);return this.localeData().postformat(n)}function pe(t,e){return this.isValid()?Jt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function de(t){return this.from(Tt(),t)}function ye(t,e){return this.isValid()?Jt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(Tt(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=C(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function be(t){switch(t=D(t)){case"year":this.month(0);case"quarter":
case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=D(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ee(){return+this._d-6e4*(this._offset||0)}function ke(){return Math.floor(+this/1e3)}function _e(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function De(){return l(this)}function Se(){return s({},c(this))}function xe(){return c(this).overflow}function Te(t,e){B(0,[t,t.length],0,e)}function Fe(t,e,n){return ct(Tt([t,11,31+e-n]),e,n).week}function Oe(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Be(){return Fe(this.year(),1,4)}function je(){var t=this.localeData()._week;return Fe(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ye(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Le(t){return this._weekdays[t.day()]}function Ie(t){return this._weekdaysShort[t.day()]}function Ne(t){return this._weekdaysMin[t.day()]}function Re(t){var e,n,r;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Tt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ue(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ye(t,this.localeData()),this.add(t-e,"d")):e}function qe(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function We(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function ze(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ge(t,e){return e._meridiemParse}function He(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ve(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function $e(t,e){e[hr]=m(1e3*("0."+t))}function Xe(){return this._isUTC?"UTC":""}function Je(){return this._isUTC?"Coordinated Universal Time":""}function Ze(t){return Tt(1e3*t)}function Ke(){return Tt.apply(null,arguments).parseZone()}function Qe(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,r):o.replace(/%d/i,t)}function sn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function un(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function an(t,e,n,r){var o=C(),i=u().set(r,e);return o[n](i,t)}function cn(t,e,n,r,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return an(t,e,n,o);var i,s=[];for(i=0;r>i;i++)s[i]=an(t,i,n,o);return s}function ln(t,e){return cn(t,e,"months",12,"month")}function fn(t,e){return cn(t,e,"monthsShort",12,"month")}function hn(t,e){return cn(t,e,"weekdays",7,"day")}function pn(t,e){return cn(t,e,"weekdaysShort",7,"day")}function dn(t,e){return cn(t,e,"weekdaysMin",7,"day")}function yn(){var t=this._data;return this._milliseconds=Xr(this._milliseconds),this._days=Xr(this._days),this._months=Xr(this._months),t.milliseconds=Xr(t.milliseconds),t.seconds=Xr(t.seconds),t.minutes=Xr(t.minutes),t.hours=Xr(t.hours),t.months=Xr(t.months),t.years=Xr(t.years),this}function mn(t,e,n,r){var o=Jt(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function gn(t,e){return mn(this,t,e,1)}function vn(t,e){return mn(this,t,e,-1)}function bn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,r,o,i=this._milliseconds,s=this._days,u=this._months,a=this._data;return i>=0&&s>=0&&u>=0||0>=i&&0>=s&&0>=u||(i+=864e5*bn(kn(u)+s),s=0,u=0),a.milliseconds=i%1e3,t=y(i/1e3),a.seconds=t%60,e=y(t/60),a.minutes=e%60,n=y(e/60),a.hours=n%24,s+=y(n/24),o=y(En(s)),u+=o,s-=bn(kn(o)),r=y(u/12),u%=12,a.days=s,a.months=u,a.years=r,this}function En(t){return 4800*t/146097}function kn(t){return 146097*t/4800}function _n(t){var e,n,r=this._milliseconds;if(t=D(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+En(e),"month"===t?n:n/12;switch(e=this._days+Math.round(kn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Cn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function An(t){return function(){return this.as(t)}}function Dn(t){return t=D(t),this[t+"s"]()}function Sn(t){return function(){return this._data[t]}}function xn(){return y(this.days()/7)}function Tn(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}function Fn(t,e,n){var r=Jt(t).abs(),o=fo(r.as("s")),i=fo(r.as("m")),s=fo(r.as("h")),u=fo(r.as("d")),a=fo(r.as("M")),c=fo(r.as("y")),l=o<ho.s&&["s",o]||1===i&&["m"]||i<ho.m&&["mm",i]||1===s&&["h"]||s<ho.h&&["hh",s]||1===u&&["d"]||u<ho.d&&["dd",u]||1===a&&["M"]||a<ho.M&&["MM",a]||1===c&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,Tn.apply(null,l)}function On(t,e){return void 0===ho[t]?!1:void 0===e?ho[t]:(ho[t]=e,!0)}function Mn(t){var e=this.localeData(),n=Fn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Bn(){var t,e,n,r=po(this._milliseconds)/1e3,o=po(this._days),i=po(this._months);t=y(r/60),e=y(t/60),r%=60,t%=60,n=y(i/12),i%=12;var s=n,u=i,a=o,c=e,l=t,f=r,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(u?u+"M":"")+(a?a+"D":"")+(c||l||f?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var jn,Pn,Yn=t.momentProperties=[],Ln=!1,In={},Nn={},Rn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Un=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qn={},Wn={},zn=/\d/,Gn=/\d\d/,Hn=/\d{3}/,Vn=/\d{4}/,$n=/[+-]?\d{6}/,Xn=/\d\d?/,Jn=/\d{1,3}/,Zn=/\d{1,4}/,Kn=/[+-]?\d{1,6}/,Qn=/\d+/,tr=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,nr=/[+-]?\d+(\.\d{1,3})?/,rr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,or={},ir={},sr=0,ur=1,ar=2,cr=3,lr=4,fr=5,hr=6;B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),A("month","M"),N("M",Xn),N("MM",Xn,Gn),N("MMM",rr),N("MMMM",rr),q(["M","MM"],function(t,e){e[ur]=m(t)-1}),q(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[ur]=o:c(n).invalidMonth=t});var pr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yr={};t.suppressDeprecationWarnings=!1;var mr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],br=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),A("year","y"),N("Y",tr),N("YY",Xn,Gn),N("YYYY",Zn,Vn),N("YYYYY",Kn,$n),N("YYYYYY",Kn,$n),q(["YYYYY","YYYYYY"],sr),q("YYYY",function(e,n){n[sr]=2===e.length?t.parseTwoDigitYear(e):m(e)}),q("YY",function(e,n){n[sr]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var wr=x("FullYear",!1);B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),N("w",Xn),N("ww",Xn,Gn),N("W",Xn),N("WW",Xn,Gn),W(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=m(t)});var Er={dow:0,doy:6};B("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),N("DDD",Jn),N("DDDD",Hn),q(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),t.ISO_8601=function(){};var kr=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return this>t?this:t}),_r=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),N("Z",er),N("ZZ",er),q(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Yt(t)});var Cr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ar=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Dr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Bt.prototype;var Sr=te(1,"add"),xr=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tr=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Te("gggg","weekYear"),Te("ggggg","weekYear"),Te("GGGG","isoWeekYear"),Te("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),N("G",tr),N("g",tr),N("GG",Xn,Gn),N("gg",Xn,Gn),N("GGGG",Zn,Vn),N("gggg",Zn,Vn),N("GGGGG",Kn,$n),N("ggggg",Kn,$n),W(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=m(t)}),W(["gg","GG"],function(e,n,r,o){n[o]=t.parseTwoDigitYear(e)}),B("Q",0,0,"quarter"),A("quarter","Q"),N("Q",zn),q("Q",function(t,e){e[ur]=3*(m(t)-1)}),B("D",["DD",2],"Do","date"),A("date","D"),N("D",Xn),N("DD",Xn,Gn),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),q(["D","DD"],ar),q("Do",function(t,e){e[ar]=m(t.match(Xn)[0],10)});var Fr=x("Date",!0);B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),N("d",Xn),N("e",Xn),N("E",Xn),N("dd",rr),N("ddd",rr),N("dddd",rr),W(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:c(n).invalidWeekday=t}),W(["d","e","E"],function(t,e,n,r){e[r]=m(t)});var Or="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Br="Su_Mo_Tu_We_Th_Fr_Sa".split("_");B("H",["HH",2],0,"hour"),B("h",["hh",2],0,function(){return this.hours()%12||12}),ze("a",!0),ze("A",!1),A("hour","h"),N("a",Ge),N("A",Ge),N("H",Xn),N("h",Xn),N("HH",Xn,Gn),N("hh",Xn,Gn),q(["H","HH"],cr),q(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),q(["h","hh"],function(t,e,n){e[cr]=m(t),c(n).bigHour=!0});var jr=/[ap]\.?m?\.?/i,Pr=x("Hours",!0);B("m",["mm",2],0,"minute"),A("minute","m"),N("m",Xn),N("mm",Xn,Gn),q(["m","mm"],lr);var Yr=x("Minutes",!1);B("s",["ss",2],0,"second"),A("second","s"),N("s",Xn),N("ss",Xn,Gn),q(["s","ss"],fr);var Lr=x("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),N("S",Jn,zn),N("SS",Jn,Gn),N("SSS",Jn,Hn);var Ir;for(Ir="SSSS";Ir.length<=9;Ir+="S")N(Ir,Qn);for(Ir="S";Ir.length<=9;Ir+="S")q(Ir,$e);var Nr=x("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Rr=p.prototype;Rr.add=Sr,Rr.calendar=ne,Rr.clone=re,Rr.diff=ae,Rr.endOf=we,Rr.format=he,Rr.from=pe,Rr.fromNow=de,Rr.to=ye,Rr.toNow=me,Rr.get=O,Rr.invalidAt=xe,Rr.isAfter=oe,Rr.isBefore=ie,Rr.isBetween=se,Rr.isSame=ue,Rr.isValid=De,Rr.lang=Tr,Rr.locale=ge,Rr.localeData=ve,Rr.max=_r,Rr.min=kr,Rr.parsingFlags=Se,Rr.set=O,Rr.startOf=be,Rr.subtract=xr,Rr.toArray=Ce,Rr.toObject=Ae,Rr.toDate=_e,Rr.toISOString=fe,Rr.toJSON=fe,Rr.toString=le,Rr.unix=ke,Rr.valueOf=Ee,Rr.year=wr,Rr.isLeapYear=at,Rr.weekYear=Oe,Rr.isoWeekYear=Me,Rr.quarter=Rr.quarters=Pe,Rr.month=J,Rr.daysInMonth=Z,Rr.week=Rr.weeks=pt,Rr.isoWeek=Rr.isoWeeks=dt,Rr.weeksInYear=je,Rr.isoWeeksInYear=Be,Rr.date=Fr,Rr.day=Rr.days=Ue,Rr.weekday=qe,Rr.isoWeekday=We,Rr.dayOfYear=mt,Rr.hour=Rr.hours=Pr,Rr.minute=Rr.minutes=Yr,Rr.second=Rr.seconds=Lr,Rr.millisecond=Rr.milliseconds=Nr,Rr.utcOffset=Nt,Rr.utc=Ut,Rr.local=qt,Rr.parseZone=Wt,Rr.hasAlignedHourOffset=zt,Rr.isDST=Gt,Rr.isDSTShifted=Ht,Rr.isLocal=Vt,Rr.isUtcOffset=$t,Rr.isUtc=Xt,Rr.isUTC=Xt,Rr.zoneAbbr=Xe,Rr.zoneName=Je,Rr.dates=tt("dates accessor is deprecated. Use date instead.",Fr),Rr.months=tt("months accessor is deprecated. Use month instead",J),Rr.years=tt("years accessor is deprecated. Use year instead",wr),Rr.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Rt);var Ur=Rr,qr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Wr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zr="Invalid date",Gr="%d",Hr=/\d{1,2}/,Vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$r=v.prototype;$r._calendar=qr,$r.calendar=Qe,$r._longDateFormat=Wr,$r.longDateFormat=tn,$r._invalidDate=zr,$r.invalidDate=en,$r._ordinal=Gr,$r.ordinal=nn,$r._ordinalParse=Hr,$r.preparse=rn,$r.postformat=rn,$r._relativeTime=Vr,$r.relativeTime=on,$r.pastFuture=sn,$r.set=un,$r.months=H,$r._months=pr,$r.monthsShort=V,$r._monthsShort=dr,$r.monthsParse=$,$r.week=lt,$r._week=Er,$r.firstDayOfYear=ht,$r.firstDayOfWeek=ft,$r.weekdays=Le,$r._weekdays=Or,$r.weekdaysMin=Ne,$r._weekdaysMin=Br,$r.weekdaysShort=Ie,$r._weekdaysShort=Mr,$r.weekdaysParse=Re,$r.isPM=He,$r._meridiemParse=jr,$r.meridiem=Ve,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",k),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",C);var Xr=Math.abs,Jr=An("ms"),Zr=An("s"),Kr=An("m"),Qr=An("h"),to=An("d"),eo=An("w"),no=An("M"),ro=An("y"),oo=Sn("milliseconds"),io=Sn("seconds"),so=Sn("minutes"),uo=Sn("hours"),ao=Sn("days"),co=Sn("months"),lo=Sn("years"),fo=Math.round,ho={s:45,m:45,h:22,d:26,M:11},po=Math.abs,yo=Bt.prototype;yo.abs=yn,yo.add=gn,yo.subtract=vn,yo.as=_n,yo.asMilliseconds=Jr,yo.asSeconds=Zr,yo.asMinutes=Kr,yo.asHours=Qr,yo.asDays=to,yo.asWeeks=eo,yo.asMonths=no,yo.asYears=ro,yo.valueOf=Cn,yo._bubble=wn,yo.get=Dn,yo.milliseconds=oo,yo.seconds=io,yo.minutes=so,yo.hours=uo,yo.days=ao,yo.weeks=xn,yo.months=co,yo.years=lo,yo.humanize=Mn,yo.toISOString=Bn,yo.toString=Bn,yo.toJSON=Bn,yo.locale=ge,yo.localeData=ve,yo.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bn),yo.lang=Tr,B("X",0,0,"unix"),B("x",0,0,"valueOf"),N("x",tr),N("X",nr),q("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),q("x",function(t,e,n){n._d=new Date(m(t))}),t.version="2.10.6",e(Tt),t.fn=Ur,t.min=Ot,t.max=Mt,t.utc=u,t.unix=Ze,t.months=ln,t.isDate=r,t.locale=k,t.invalid=f,t.duration=Jt,t.isMoment=d,t.weekdays=hn,t.parseZone=Ke,t.localeData=C,t.isDuration=jt,t.monthsShort=fn,t.weekdaysMin=dn,t.defineLocale=_,t.weekdaysShort=pn,t.normalizeUnits=D,t.relativeTimeThreshold=On;var mo=t;return mo}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.Polyglot=e(t)}(this,function(t){"use strict";function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||a}function n(t){var e,n,r,o={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)o[n[r]]=e}return o}function r(t){return l.call(t,d,"")}function o(t,e,n){var o,i,u;return null!=n&&t?(i=t.split(f),u=i[s(e,n)]||i[0],o=r(u)):o=t,o}function i(t){var e=n(p);return e[t]||e.en}function s(t,e){return h[i(t)](e)}function u(t,e){for(var n in e)if("_"!==n&&e.hasOwnProperty(n)){var r=e[n];"string"==typeof r&&(r=l.call(e[n],y,m)),t=l.call(t,new RegExp("%\\{"+n+"\\}","g"),r)}return t}function a(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function c(t){var e={};for(var n in t)e[n]=t[n];return e}var l=String.prototype.replace;e.VERSION="0.4.5",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"==typeof n?this.extend(n,r):this.phrases[r]=n)},e.prototype.unset=function(t,e){var n;if("string"==typeof t)delete this.phrases[t];else for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"==typeof n?this.unset(n,r):delete this.phrases[r])},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,r;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof n&&(e=c(e),r=o(n,this.currentLocale,e.smart_count),r=u(r,e)),r},e.prototype.has=function(t){return t in this.phrases};var f="||||",h={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10===1&&t%100!==11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&4>=t?1:2},polish:function(t){return 1===t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},icelandic:function(t){return t%10!==1||t%100===11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]},d=/^\s+|\s+$/g,y=/\$/g,m="$$$$";return e}),function(t){var e="object"==typeof exports&&exports,n="object"==typeof module&&module&&module.exports==e&&module,r="object"==typeof global&&global;(r.global===r||r.window===r)&&(t=r);var o=String.fromCharCode,i=function(t){return t.replace(/[\t\x20]$/gm,"").replace(/=?(?:\r\n?|\n)/g,"").replace(/=([a-fA-F0-9]{2})/g,function(t,e){var n=parseInt(e,16);return o(n)})},s=function(t){return t.replace(/\x20$/,"=20").replace(/\t$/,"=09")},u=/[\0-\b\n-\x1F=\x7F-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF]/g,a=function(t){for(var e=t.replace(u,function(t){if(t>"ÿ")throw RangeError("`quotedPrintable.encode()` expects extended ASCII input only. Don’t forget to encode the input first using a character encoding like UTF-8.");var e=t.charCodeAt(0),n=e.toString(16).toUpperCase();return"="+("0"+n).slice(-2)}),n=e.split(/\r\n?|\n/g),r=-1,o=n.length,i=[];++r<o;)for(var a=n[r],c=75,l=0,f=a.length;f>l;){var h=e.slice(l,l+c);/=$/.test(h)?(h=h.slice(0,c-1),l+=c-1):/=[A-F0-9]$/.test(h)?(h=h.slice(0,c-2),l+=c-2):l+=c,i.push(h)}var p=h.length;return/[\t\x20]$/.test(h)&&(i.pop(),c+1>=p+2?i.push(s(h)):i.push(h.slice(0,p-1),s(h.slice(p-1,p)))),i.join("=\r\n")},c={encode:a,decode:i,version:"0.2.1"};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return c});else if(e&&!e.nodeType)if(n)n.exports=c;else for(var l in c)c.hasOwnProperty(l)&&(e[l]=c[l]);else t.quotedPrintable=c}(this),function(t){function e(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function n(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=y(e>>>10&1023|55296),e=56320|1023&e),o+=y(e);return o}function r(t,e){return y(t>>e&63|128)}function o(t){if(0==(4294967168&t))return y(t);var e="";return 0==(4294965248&t)?e=y(t>>6&31|192):0==(4294901760&t)?(e=y(t>>12&15|224),e+=r(t,6)):0==(4292870144&t)&&(e=y(t>>18&7|240),e+=r(t,12),e+=r(t,6)),e+=y(63&t|128)}function i(t){for(var n,r=e(t),i=r.length,s=-1,u="";++s<i;)n=r[s],u+=o(n);return u}function s(){if(d>=p)throw Error("Invalid byte index");var t=255&h[d];if(d++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function u(){var t,e,n,r,o;if(d>p)throw Error("Invalid byte index");if(d==p)return!1;if(t=255&h[d],d++,0==(128&t))return t;if(192==(224&t)){var e=s();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=s(),n=s(),o=(15&t)<<12|e<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=s(),n=s(),r=s(),o=(15&t)<<18|e<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function a(t){h=e(t),p=h.length,d=0;for(var r,o=[];(r=u())!==!1;)o.push(r);return n(o)}var c="object"==typeof exports&&exports,l="object"==typeof module&&module&&module.exports==c&&module,f="object"==typeof global&&global;(f.global===f||f.window===f)&&(t=f);var h,p,d,y=String.fromCharCode,m={version:"2.0.0",encode:i,decode:a};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return m});else if(c&&!c.nodeType)if(l)l.exports=m;else{var g={},v=g.hasOwnProperty;for(var b in m)v.call(m,b)&&(c[b]=m[b])}else t.utf8=m}(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.jade=t()}}(function(){return function t(e,n,r){function o(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function o(t){return(Array.isArray(t)?t.map(o):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(r).join(" ")}function i(t){return u[t]||t}function s(t){var e=String(t).replace(a,i);return e===""+t?t:e}n.merge=function c(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=c(n,t[o]);return n}var i=t["class"],s=e["class"];(i||s)&&(i=i||[],s=s||[],Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]),t["class"]=i.concat(s).filter(r));for(var u in e)"class"!=u&&(t[u]=e[u]);return t},n.joinClasses=o,n.cls=function(t,e){for(var r=[],i=0;i<t.length;i++)e&&e[i]?r.push(n.escape(o([t[i]]))):r.push(o(t[i]));var s=o(r);return s.length?' class="'+s+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,r,o){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(o?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):r?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var r=[],i=Object.keys(t);if(i.length)for(var s=0;s<i.length;++s){var u=i[s],a=t[u];"class"==u?(a=o(a))&&r.push(" "+u+'="'+a+'"'):r.push(n.attr(u,a,!1,e))}return r.join("")};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},a=/[&<>"]/g;n.escape=s,n.rethrow=function l(e,n,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||o))throw e.message+=" on line "+r,e;try{o=o||t("fs").readFileSync(n,"utf8")}catch(i){l(e,null,r)}var s=3,u=o.split("\n"),a=Math.max(r-s,0),c=Math.min(u.length,r+s),s=u.slice(a,c).map(function(t,e){var n=e+a+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+r+"\n"+s+"\n\n"+e.message,e},n.DebugItem=function(t,e){this.lineno=t,this.filename=e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)});var ColorHash=function(){function t(t){var e,n,r,o;for(e=0,o=Math.pow(2,32),n=0,r=t.length;r>n;n++)e=(31*e+t.charCodeAt(n))%o;return e}function e(e,n){var r,o;return r=i[n]||i.base,o=t(e),"#"+r[o%r.length]}function n(t,e){i[t]=e}function r(t){return scheme[t]}function o(t){"base"!==t&&delete i[t]}var i={base:["00bb3f","238c47","007929","37dd6f","63dd8d","0f4fa8","284c7e","05316d","4380d3","6996d3","ff9f00","bf8930","a66800","ffb740","ffca73","ff2800","bf4630","a61a00","ff5d40","ff8973"]};return{addScheme:n,getScheme:r,deleteScheme:o,getHash:t,getColor:e}}(),saveAs=saveAs||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),u=t.webkitRequestFileSystem,a=t.requestFileSystem||u||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",f=0,h=500,p=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,h)},d=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(i){c(i)}}},y=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,c,h){h||(e=y(e));var m,g,v,b=this,w=e.type,E=!1,k=function(){d(b,"writestart progress write writeend".split(" "))},_=function(){if(g&&s&&"undefined"!=typeof FileReader){var r=new FileReader;return r.onloadend=function(){var t=r.result;g.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),b.readyState=b.DONE,k()},r.readAsDataURL(e),void(b.readyState=b.INIT)}if((E||!m)&&(m=n().createObjectURL(e)),g)g.location.href=m;else{var o=t.open(m,"_blank");void 0==o&&s&&(t.location.href=m)}b.readyState=b.DONE,k(),p(m)},C=function(t){return function(){return b.readyState!==b.DONE?t.apply(this,arguments):void 0}},A={create:!0,exclusive:!1};return b.readyState=b.INIT,c||(c="download"),o?(m=n().createObjectURL(e),r.href=m,r.download=c,void setTimeout(function(){i(r),k(),p(m),b.readyState=b.DONE})):(t.chrome&&w&&w!==l&&(v=e.slice||e.webkitSlice,e=v.call(e,0,e.size,l),E=!0),u&&"download"!==c&&(c+=".download"),(w===l||u)&&(g=t),a?(f+=e.size,void a(t.TEMPORARY,f,C(function(t){t.root.getDirectory("saved",A,C(function(t){var n=function(){t.getFile(c,A,C(function(t){t.createWriter(C(function(n){n.onwriteend=function(e){g.location.href=t.toURL(),b.readyState=b.DONE,d(b,"writeend",e),p(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&_()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=b["on"+t]}),n.write(e),b.abort=function(){n.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),_)}),_)};t.getFile(c,{create:!1},C(function(t){t.remove(),n()}),C(function(t){t.code===t.NOT_FOUND_ERR?n():_()}))}),_)}),_)):void _())},g=m.prototype,v=function(t,e,n){return new m(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=y(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(g.abort=function(){var t=this;t.readyState=t.DONE,d(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(t){if("function"==typeof bootstrap)bootstrap("backboneprojections",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeBackboneProjections=t}else"undefined"!=typeof window?window.BackboneProjections=t():global.BackboneProjections=t()}(function(){return function(t,e,n){function r(n,i){if(!e[n]){if(!t[n]){var s="function"==typeof require&&require;if(!i&&s)return s(n,!0);if(o)return o(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=e[n]={exports:{}};t[n][0].call(u.exports,function(e){var o=t[n][1][e];return r(o?o:e)},u,u.exports)}return e[n].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({"lib/index.js":[function(t,e,n){var r;r=(("undefined"!=typeof window&&null!==window?window._:void 0)||t("underscore")).extend,e.exports=r({},t("./capped"),t("./filtered"),t("./sorted"))},{"./capped":"lib/capped.js","./filtered":"lib/filtered.js","./sorted":"lib/sorted.js",underscore:"underscore"}],"lib/capped.js":[function(t,e,n){var r,o,i,s,u,a={}.hasOwnProperty,c=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||t("backbone")).Collection,u=("undefined"!=typeof window&&null!==window?window._:void 0)||t("underscore"),s=u.toArray,o=u.extend,i=function(t){var e;return e=function(e){return t.indexOf(e)},e.induced=!0,e},n.Capped=function(t){function e(t,n){var r=this;null==n&&(n={}),this.underlying=t,this.model=t.model,this.comparator=n.comparator||i(t),
this.options=o({cap:5},t.options,n),e.__super__.constructor.call(this,this._capped(this.underlying.models),n),this.listenTo(this.underlying,{reset:function(){return r.reset(r._capped(r.underlying.models))},remove:function(t){var e;return r.contains(t)?(r.remove(t),e=r._capped(r.underlying.models),r.add(e[r.options.cap-1])):void 0},add:function(t){return r.length<r.options.cap?r.add(t):r.comparator(t)<r.comparator(r.last())?(r.add(t),r.remove(r.at(r.options.cap))):void 0},sort:function(){return r.comparator.induced?r.reset(r._capped(r.underlying.models)):void 0}})}return c(e,t),e.prototype._capped=function(t){var e=this;return t=s(t),t.sort(function(t,n){return t=e.comparator(t),n=e.comparator(n),t>n?1:n>t?-1:0}),t.slice(0,this.options.cap)},e.prototype.resize=function(t){var e,n,r,o,i;if(this.options.cap>t)for(this.options.cap=t,i=this.models,n=o=i.length-1;o>=0&&(r=i[n],!(t>n));n=o+=-1)this.remove(r);else this.options.cap<t&&(this.options.cap=t,e=this._capped(this.underlying.models),this.add(e.slice(this.length,this.options.cap)));return this.trigger("resize")},e}(r),n.CappedCollection=n.Capped},{backbone:"backbone",underscore:"underscore"}],"lib/filtered.js":[function(t,e,n){var r,o,i,s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||t("backbone")).Collection,o=(("undefined"!=typeof window&&null!==window?window._:void 0)||t("underscore")).extend,i=function(t){var e;return e=function(e){return t.indexOf(e)},e.induced=!0,e},n.Filtered=function(t){function e(t,n){var r=this;null==n&&(n={}),this.underlying=t,this.model=t.model,this.comparator=n.comparator||i(t),this.options=o({},t.options,n),e.__super__.constructor.call(this,this.underlying.models.filter(this.options.filter),n),this.listenTo(this.underlying,{reset:function(){return r.reset(r.underlying.models.filter(r.options.filter))},remove:function(t){return r.contains(t)?r.remove(t):void 0},add:function(t){return r.options.filter(t)?r.add(t):void 0},change:function(t){return r.decideOn(t)},sort:function(){return r.comparator.induced?r.sort():void 0}})}return u(e,t),e.prototype.update=function(){var t,e,n,r,o;for(r=this.underlying.models,o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(this.decideOn(t));return o},e.prototype.decideOn=function(t){if(this.contains(t)){if(!this.options.filter(t))return this.remove(t)}else if(this.options.filter(t))return this.add(t)},e}(r),n.FilteredCollection=n.Filtered},{backbone:"backbone",underscore:"underscore"}],"lib/sorted.js":[function(t,e,n){var r,o,i={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=(("undefined"!=typeof window&&null!==window?window.Backbone:void 0)||t("backbone")).Collection,o=(("undefined"!=typeof window&&null!==window?window._:void 0)||t("underscore")).extend,n.Sorted=function(t){function e(t,n){var r=this;if(null==n&&(n={}),!n.comparator)throw new Error("provide a comparator");this.underlying=t,this.model=t.model,this.comparator=n.comparator,this.options=o({},t.options,n),e.__super__.constructor.call(this,this.underlying.models,n),this.listenTo(this.underlying,{reset:function(){return r.reset(r.underlying.models)},remove:function(t){return r.remove(t)},add:function(t){return r.add(t)}})}return s(e,t),e}(r),n.Reversed=function(t){function e(t,n){null==n&&(n={}),n.comparator=function(e){return-t.indexOf(e)},e.__super__.constructor.call(this,t,n),this.listenTo(this.underlying,{sort:this.sort})}return s(e,t),e}(n.Sorted),n.SortedCollection=n.Sorted,n.ReversedCollection=n.Reversed},{backbone:"backbone",underscore:"underscore"}]},{},["lib/index.js"])("lib/index.js")}),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.processStack=n(this.processStack,this),this.callbackFactory=n(this.callbackFactory,this),this.resume=n(this.resume,this),this.pause=n(this.pause,this);var t,e;try{this.connect()}catch(e){t=e,console.log("Error while connecting to socket.io"),console.log(t.stack)}this.collections=[],this.singlemodels=new Backbone.Collection,this.stack=[],this.ignore=[],this.paused=0}return t.prototype.models={},t.prototype.events=[],t.prototype.shouldFetchCreated=function(t){return!0},t.prototype.onRemoteCreate=function(t){},t.prototype.onRemoteUpdate=function(t,e){},t.prototype.onRemoteDelete=function(t,e){},t.prototype.connect=function(){var t,e,n,r,o,i,s;for(s=window.location.origin,r="/"+window.location.pathname.substring(1)+"socket.io",this.socket=io(s,{path:r,reconnectionDelayMax:6e4,reconectionDelay:2e3,reconnectionAttempts:3}),o=this.events,i=[],e=0,n=o.length;n>e;e++)t=o[e],i.push(this.socket.on(t,this.callbackFactory(t)));return i},t.prototype.watch=function(t){return 0===this.collections.length&&(this.collection=t),this.collections.push(t),t.socketListener=this,this.watchOne(t)},t.prototype.stopWatching=function(t){var e,n,r,o,i;for(i=this.collections,n=r=0,o=i.length;o>r;n=++r)if(e=i[n],e===t)return this.collections.splice(n,1)},t.prototype.watchOne=function(t){return this.singlemodels.add(t),t.on("request",this.pause),t.on("sync",this.resume),t.on("destroy",this.resume),t.on("error",this.resume)},t.prototype.pause=function(t,e,n){var r,o;if(n.ignoreMySocketNotification){if(o=t.isNew()?"create":"update",r=this.getDoctypeOf(t),null==r)return;return this.ignore.push({doctype:r,operation:o,model:t}),this.paused=this.paused+1}},t.prototype.resume=function(t,e,n){return n.ignoreMySocketNotification&&(this.paused=this.paused-1,this.paused<=0)?(this.processStack(),this.paused=0):void 0},t.prototype.getDoctypeOf=function(t){var e,n,r;r=this.models;for(n in r)if(e=r[n],t instanceof e)return n},t.prototype.cleanStack=function(){var t,e,n,r,o,i;for(e=0,r=[];e<this.ignore.length;){for(n=!1,i=0,t=this.ignore[e];i<this.stack.length;){if(o=this.stack[i],o.operation===t.operation&&o.id===t.model.id){this.stack.splice(i,1),n=!0;break}i++}n?r.push(this.ignore.splice(e,1)):r.push(e++)}return r},t.prototype.callbackFactory=function(t){return function(e){return function(n){var r,o,i,s;return s=t.split("."),r=s[0],i=s[1],o={id:n,doctype:r,operation:i},e.stack.push(o),0===e.paused?e.processStack():void 0}}(this)},t.prototype.processStack=function(){var t;for(this.cleanStack(),t=[];this.stack.length>0;)t.push(this.process(this.stack.shift()));return t},t.prototype.process=function(t){var e,n,r,o;switch(e=t.doctype,o=t.operation,n=t.id,o){case"create":if(!this.shouldFetchCreated(n))return;return r=new this.models[e]({id:n}),r.fetch({success:function(t){return function(e){return t.onRemoteCreate(e)}}(this)});case"update":return(r=this.singlemodels.get(n))&&r.fetch({success:function(t){return function(e){return e.changedAttributes()?t.onRemoteUpdate(e,null):void 0}}(this)}),this.collections.forEach(function(t){return function(e){return(r=e.get(n))?r.fetch({success:function(n){return n.changedAttributes()?t.onRemoteUpdate(n,e):void 0}}):void 0}}(this));case"delete":return(r=this.singlemodels.get(n))&&this.onRemoteDelete(r,this.singlemodels),this.collections.forEach(function(t){return function(e){return(r=e.get(n))?t.onRemoteDelete(r,e):void 0}}(this))}},t}(),e=("undefined"!=typeof module&&null!==module?module.exports:void 0)||window,e.CozySocketListener=t}.call(this),function(){var t,e,n,r,o,i,s,u,a,c,l,f,h,p,d,y,m,g,v,b,w,E,k,_,C,A,D,S,x,T,F,O,M=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},B=[].slice;("undefined"!=typeof module&&null!==module?module.exports:void 0)?(O=require("utf8"),T=require("quoted-printable")):(O=window.utf8,T=window.quotedPrintable),F={begin:/^BEGIN:VCARD$/i,end:/^END:VCARD$/i,beginNonVCard:/^BEGIN:(.*)$/i,endNonVCard:/^END:(.*)$/i,simple:/^(version|fn|n|title|org|note|categories|bday|url|nickname|uid|tz|lang|geo|gender|kind)(;CHARSET=UTF-8)?(;ENCODING=QUOTED-PRINTABLE)?\:(.+)$/i,composedkey:/^item(\d{1,2})\.([^\:]+):(.+)$/,complex:/^([^\:\;]+);([^\:]+)\:(.+)$/,property:/^(.+)=(.+)$/,extended:/^X-([^\:]+)\:(.+)$/i,applebday:/^(version|fn|n|title|org|note|categories|bday|url);value=date:(.+)$/i,android:/^x-android-custom\:(.+)$/i},r=["skype","skype-username","aim","msn","yahoo","qq","google-talk","gtalk","icq","jabber","sip","gad"],o=["aim","jabber","msn","yahoo","icq"],u=["phonetic-first-name","phonetic-middle-name","phonetic-last-name"],t=["custom","assistant","brother","child","domestic partner","father","friend","manager","mother","parent","partner","referred by","relative","sister","spouse"],e=["fn","bday","org","title","url","note","nickname","uid"],n=["tz","lang","geo","gender","kind"],a={twitter:"http://twitter.com/",facebook:"http://facebook.com/",flickr:"http://www.flickr.com/photos/",linkedin:"http://www.linkedin.com/in/",myspace:"http://www.myspace.com/",sina:"http://weibo.com/n/"},s={msn:"MSN:msnim",skype:"Skype:skype","google-talk":"GoogleTalk:xmpp",googletalk:"GoogleTalk:xmpp",gtalk:"GoogleTalk:xmpp",facebook:"Facebook:xmpp",aim:"AIM:aim",yahoo:"Yahoo:aim",icq:"ICQ:aim",jabber:"Jabber:xmpp",qq:"QQ:x-apple",gadugadu:"GaduGadu:x-apple"},i={msn:"MSN",skype:"Skype","google-talk":"GoogleTalk",googletalk:"GoogleTalk",gtalk:"GoogleTalk",facebook:"Facebook",aim:"AIM",yahoo:"Yahoo:",icq:"ICQ",jabber:"Jabber",qq:"QQ",gadugadu:"GaduGadu"},x=function(t){var e,n,r,o,i;return r=/^(\d{4})[-\/](\d{2})[-\/](\d{2})$/.exec(t),null===r?!1:(i=parseInt(r[1]),n=parseInt(r[2]-1),e=parseInt(r[3]),t=new Date(i,n,e),o=t.getDate()===e,o=o&&t.getMonth()===n,o=o&&t.getFullYear()===i)},l=function(t){return""+t.charAt(0).toUpperCase()+t.toLowerCase().slice(1)},S=function(e,n,r){var o,i,s;if(n=n.toLowerCase().replace("_"," "),"anniversary"===n)o=1;else if("died"===n)o=2;else{for(o=0,i=t.length;i>o&&t[o]!==n;)o++;o===i&&(n=null)}return n?(s="X-ANDROID-CUSTOM:vnd.android.cursor.item/",""+s+e+";"+r+";"+o+";;;;;;;;;;;;;"):null},c=function(){function o(t){this.reset(),t&&this.read(t)}return o.prototype.reset=function(){return this.contacts=[],this.currentContact=null,this.currentDatapoint=null,this.currentIndex=null,this.currentVersion="3.0"},o.prototype.storeCurrentDatapoint=function(){return this.currentDatapoint?(this.currentContact.datapoints.push(this.currentDatapoint),this.currentDatapoint=null):void 0},o.prototype.addDatapoint=function(t,e,n){return this.storeCurrentDatapoint(),this.currentContact.datapoints.push({name:t,type:e,value:n})},o.prototype.addTypeProperty=function(t,e){return null!=t.type&&"internet"!==t.type?t.type=t.type+" "+e:t.type=e},o.prototype.storeCurrentContact=function(){var t;return null==this.currentContact.n&&null==this.currentContact.fn&&console.error("There should be at least a N field or a FN field"),(null==this.currentContact.n||""===(t=this.currentContact.n)||";;;;"===t)&&(this.currentContact.n=o.fnToN(this.currentContact.fn).join(";")),(null==this.currentContact.fn||""===this.currentContact.fn)&&(this.currentContact.fn=o.nToFN(this.currentContact.n)),this.contacts.push(this.currentContact)},o.prototype.read=function(t){var e,n,r,o,i;for(o=this.splitLines(t),i=[],e=0,n=o.length;n>e;e++)r=o[e],i.push(this.handleLine(r));return i},o.prototype.splitLines=function(t){var e,n,r;return r=t.split(/\r?\n/),n=[],e=!1,r.forEach(function(t){var r;return null!=t&&""!==t?" "===t[0]||e?(" "===t[0]&&(t=t.slice(1)),e&&("="===t[t.length-1]?t=t.slice(0,-1):e=!1),r=n.length-1,r>=0?n[r]=n[r]+t:n.push(t)):(/^(.+)ENCODING=QUOTED-PRINTABLE(.+)=$/i.test(t)&&(e=!0,t=t.slice(0,-1)),n.push(t)):void 0}),n},o.prototype.handleLine=function(t){if(this.nonVCard){if(F.endNonVCard.test(t)&&t.match(F.endNonVCard)[1]===this.nonVCard)return this.nonVCard=!1}else{if(F.begin.test(t))return this.currentContact={datapoints:[]};if(F.beginNonVCard.test(t))return this.nonVCard=t.match(F.beginNonVCard)[1];if(F.end.test(t))return this.storeCurrentDatapoint(),this.storeCurrentContact();if(F.simple.test(t))return this.handleSimpleLine(t);if(F.applebday.test(t))return this.handleSimpleLine(t,!0);if(F.android.test(t))return this.handleAndroidLine(t);if(F.extended.test(t))return this.handleExtendedLine(t);if(F.composedkey.test(t))return this.handleComposedLine(t);if(F.complex.test(t))return this.handleComplexLine(t)}},o.prototype.handleSimpleLine=function(t,r){var i,s,u,a,c,l,f,h,p,d;return null==r&&(r=!1),r?(l=t.match(F.applebday),i=l[0],s=l[1],p=l[2]):(f=t.match(F.simple),i=f[0],s=f[1],h=f[2],c=f[3],p=f[4]),null!=c&&(p=o.unquotePrintable(p)),p=o.unescapeText(p),s=s.toLowerCase(),"version"===s?this.currentversion=p:"rev"===s?this.currentContact.revision=p:"categories"===s?this.currentContact.tags=p.split(/(?!\\),/).map(o.unescapeText):"n"===s?(u=p.split(/(?!\\);/),5===u.length?this.currentContact.n=p:(a=["","","","",""],u.length<=5?u.forEach(function(t,e){return a[e]=t}):6===u.length?(a.push(""),u.forEach(function(t,e){return a[e]=t})):a[2]=u.join(" "),this.currentContact.n=a.join(";"))):M.call(e,s)>=0?"org"===s?(d=p.split(";"),2===d.length?(this.currentContact.org=d[0],this.currentContact.department=d[1]):this.currentContact.org=p):this.currentContact[s.toLowerCase()]=p:M.call(n,s)>=0?this.currentContact[s.toLowerCase()]=p:void 0},o.prototype.handleExtendedLine=function(t){var e,n,o,i,s,a,c,l,f,h,p,d,y;if(l=t.match(F.extended),e=l[0],i=l[1],y=l[2],null!=i){if(i=i.toLowerCase(),M.call(r,i)>=0)return this.currentContact.datapoints.push({name:"chat",type:i,value:y});if(M.call(u,i)>=0)return i=i.replace(/-/g," "),this.currentContact.datapoints.push({name:"about",type:i,value:y});if(0===i.indexOf("socialprofile")){for(s=i.split(";"),n={},o=0,c=s.length;c>o;o++)a=s[o],f=a.split("="),n[f[0].replace("x-","")]=f[1];if(n.user||(n.user=y),n.type&&n.user)return h=n.type,p=n.user,this.currentContact.datapoints.push({name:"social",type:h,value:p})}else if("activity-alert"===i)return d=y.split(","),d.length>1&&(h=d.splice(0,1)[0],h=h.split("=")[1].replace(/\\/g,""),y=d.join(",")),this.currentContact.datapoints.push({name:"alerts",type:h,value:y})}},o.prototype.handleAndroidLine=function(e){var n,r,o,i,s,u,a;switch(i=e.match(F.android),n=i[0],o=i[1],r=o.split(";"),r[0].replace("vnd.android.cursor.item/","")){case"contact_event":return a=r[1],u="0"===(s=r[2])||"2"===s?r[3]:"1"===r[2]?"anniversary":"birthday",this.currentContact.datapoints.push({name:"about",type:u,value:a});case"relation":return a=r[1],u=t[+r[2]],"custom"===u&&(u=r[3]),this.currentContact.datapoints.push({name:"relation",type:u,value:a});case"nickname":return a=r[1],this.currentContact.nickname=a}},o.prototype.handleCurrentSpecialCases=function(){var t,e,n;return t=this.currentDatapoint,e=null!=t?t.type:void 0,M.call(r,e)>=0&&(t.name="chat",null!=t["x-service-type"]&&(t.value=t.value.split(":")[1],n=t["x-service-type"],M.call(r,n)<0&&(t.type=t["x-service-type"]))),"impp"===(null!=t?t.name:void 0)?(t.name="chat",t.value=t.value.split(":")[1]):void 0},o.prototype.handleComposedLine=function(t){var e,n,r,i,s,u,a;return u=t.match(F.composedkey),e=u[0],n=u[1],i=u[2],a=u[3],null!==this.currentIndex&&this.currentIndex===n&&this.currentDatapoint||(this.handleCurrentSpecialCases(),this.storeCurrentDatapoint(),this.currentDatapoint={}),this.currentIndex=n,i=i.split(";"),r=i[0],s=i.splice(1),a=a.split(";"),1===a.length&&(a=a[0].replace("_$!<","").replace(">!$_","").replace("\\:",":")),r=r.toLowerCase(),"x-ablabel"===r||"x-abadr"===r?this.addTypeProperty(this.currentDatapoint,a.toLowerCase()):(this.handleProperties(this.currentDatapoint,s),"x-abdate"===r&&(r="about"),"x-abrelatednames"===r&&(r="relation"),"adr"===r&&(a=Array.isArray(a)?a.map(o.unescapeText):["","",o.unescapeText(a),"","","",""]),this.currentDatapoint.name=r.toLowerCase(),this.currentDatapoint.value=a)},o.prototype.handleComplexLine=function(t){var e,n,r,i,s,u;return i=t.match(F.complex),e=i[0],n=i[1],r=i[2],u=i[3],this.storeCurrentDatapoint(),this.currentDatapoint={},u=u.split(";"),1===u.length&&(u=u[0]),n=n.toLowerCase(),"photo"===n?(this.currentContact.photo=u,this.currentDatapoint=null):"email"===(s=!n)||"tel"===s||"adr"===s||"url"===s?this.currentDatapoint=null:(this.currentDatapoint.name=n,"adr"===n&&(u=Array.isArray(u)?u.map(o.unescapeText):["","",o.unescapeText(u),"","","",""]),this.handleProperties(this.currentDatapoint,r.split(";")),"quoted-printable"===this.currentDatapoint.encoding&&(u=Array.isArray(u)?u.map(o.unquotePrintable):o.unquotePrintable(u),delete this.currentDatapoint.encoding),this.currentDatapoint.value=u)},o.prototype.handleProperties=function(t,e){var n,r,o,i,s,u,a,c,l;for(l=[],r=0,o=e.length;o>r;r++)a=e[r],(i=a.match(F.property))?(n=i[0],s=i[1],c=i[2],c=c.toLowerCase(),u=t[s.toLowerCase()],null!=u&&"internet"!==u&&(c=u+" "+c)):"PREF"===a?(s="pref",c=!0,null!=t.type?t.type=t.type+" "+a.toLowerCase():t.type=a.toLowerCase()):(s="type",c=null!=t.type?t.type+" "+a.toLowerCase():a.toLowerCase()),"type"===s&&"pref"===c&&(s="pref",c=!0),l.push(t[s.toLowerCase()]=c);return l},o}(),c.unquotePrintable=function(t){var e,n;t=t||"";try{return O.decode(T.decode(t))}catch(n){return e=n,t}},c.escapeText=function(t){var e;return null==t?t:(e=t.replace(/([,;\\])/gi,"\\$1"),e=e.replace(/\n/g,"\\n"))},c.unescapeText=function(t){var e;return null==t?t:(e=t.replace(/\\n/gi,"\n"),e=e.replace(/\\([,;\\])/gi,"$1"))},c.toVCF=function(t,e,n){var r,o,i,s,u,a,l,S,x,T,F,O,M,B,j;null==e&&(e=null),null==n&&(n="google"),u=0,T=["BEGIN:VCARD"],T.push("VERSION:3.0"),A(T,t),null!=t.revision&&k(T,t),null!=t.n&&v(T,t),d(T,t),g(T,t),null!=t.tags&&t.tags.length>0&&C(T,t),F=t.datapoints;for(s in F)if(o=F[s],null!=o.name&&null!=o.value){if(l=o.name.toUpperCase(),M=(null!=(O=o.type)?O.toUpperCase():void 0)||null,j=o.value,j=Array.isArray(j)?j.map(c.escapeText):c.escapeText(j),i="",null!=M)for(B=M.split(" "),a=0,S=B.length;S>a;a++)r=B[a],i+=";TYPE="+r;switch(x={out:T,type:M,formattedType:i,value:j,mode:n,itemCounter:u,key:l},l){case"ABOUT":u=f(x);break;case"OTHER":u=b(x);break;case"CHAT":u=y(x);break;case"URL":u=D(x);break;case"RELATION":u=E(x);break;case"ADR":u=h(x);break;case"SOCIAL":u=_(x);break;case"ALERTS":u=p(x);break;default:u=m(x)}}return null!=e&&w(T,e),T.push("END:VCARD"),T.join("\n")+"\n"},A=function(t,e){var n,r;return r=e.carddavuri,n=(null!=r?r.substring(0,r.length-4):void 0)||e.id,null!=n?t.push("UID:"+n):void 0},d=function(t,n){var r,o,i,s,u,a;for(u=[],o=0,i=e.length;i>o;o++)s=e[o],a=n[s],a&&(a=c.escapeText(a)),"org"===s&&null!=n.department&&n.department.length>0&&(r=c.escapeText(n.department),a=a+";"+r),a?u.push(t.push(s.toUpperCase()+":"+a)):u.push(void 0);return u},g=function(t,e){var r,o,i,s,u;for(s=[],r=0,o=n.length;o>r;r++)i=n[r],u=e[i],u&&(u=c.escapeText(u)),u?s.push(t.push(i.toUpperCase()+":"+u)):s.push(void 0);return s},v=function(t,e){return t.push("N:"+e.n)},k=function(t,e){return"date"==typeof e.revision?t.push("REV:"+e.revision.toISOString()):t.push("REV:"+e.revision)},C=function(t,e){var n;return n=e.tags.map(c.escapeText).join(","),t.push("CATEGORIES:"+n)},f=function(t){var e,n,r,o,i,s;return o=t.out,i=t.type,e=t.formattedType,s=t.value,r=t.mode,n=t.itemCounter,"DIED"===i||"ANNIVERSARY"===i?"android"===r?o.push(S("contact_event",i,s)):(n++,o.push("item"+n+".X-ABDATE:"+s),e=l(i),o.push("item"+n+".X-ABLabel:"+e)):0===i.indexOf("PHONETIC")?o.push("X-"+i.replace(/\s/g,"-")+":"+s):x(s)?(n++,o.push("item"+n+".X-ABDATE:"+s),e=l(i),o.push("item"+n+".X-ABLabel:"+e)):o.push("X-"+i+":"+s),n},b=function(t){var e,n,r,o,i,s;return o=t.out,i=t.type,e=t.formattedType,s=t.value,r=t.mode,n=t.itemCounter,o.push("X-EVENT"+e+":"+s),n},y=function(t){var e,n,r,o,i,u,a,c;return i=t.out,a=t.type,e=t.formattedType,c=t.value,o=t.mode,n=t.itemCounter,"SKYPE"===a&&"android"===o?i.push("X-SKYPE-USERNAME:"+c):"ios"===o?(n++,u=s[a.toLowerCase()],null!=u?(r="item"+n+".IMPP;",r+="X-SERVICE-TYPE="+u+":"+c,i.push(r)):(a=l(a.toLowerCase()),r="item"+n+".IMPP;",r+="X-SERVICE-TYPE="+a+":x-apple:"+c,i.push(r))):i.push("X-"+a+":"+c),n},D=function(t){var e,n,r,o,i,s;return o=t.out,i=t.type,e=t.formattedType,s=t.value,r=t.mode,n=t.itemCounter,null!=i?(n++,o.push("item"+n+".URL:"+s),"PROFILE"!==i&&"BLOG"!==i?(e=l(i.toLowerCase()),("ios"!==r||"HOME"!==i&&"WORK"!==i&&"OTHER"!==i)&&"ios"===r?o.push("item"+n+".X-ABLabel:"+e):o.push("item"+n+".X-ABLabel:_$!<"+e+">!$_")):o.push("item"+n+".X-ABLabel:"+i)):o.push("URL:"+s),n},E=function(t){var e,n,r,o,i,s,u;return i=t.out,s=t.type,e=t.formattedType,u=t.value,o=t.mode,n=t.itemCounter,"android"===o?(r=S("relation",s,u),r&&i.push(r)):(n++,i.push("item"+n+".X-ABRELATEDNAMES:"+u),e=l(s.toLowerCase()),i.push("item"+n+".X-ABLabel:_$!<"+e+">!$_")),n},h=function(t){var e,n,r,o,i,s,u;return i=t.out,s=t.type,e=t.formattedType,u=t.value,o=t.mode,n=t.itemCounter,r=t.key,Array.isArray(u)&&(u=u.join(";")),i.push(""+r+e+":"+u),n},_=function(t){var e,n,r,o,i,s,u,c,f,h;return i=t.out,u=t.type,e=t.formattedType,h=t.value,o=t.mode,n=t.itemCounter,r=t.key,c=h,f=a[u.toLowerCase()],null!=f?c=""+f+h:(e=l(u.toLowerCase()),e=";TYPE="+e),s="X-SOCIALPROFILE"+e+";x-user="+h+":"+c,i.push(s),n},p=function(t){var e,n,r,o,i,s,u,a;return i=t.out,u=t.type,e=t.formattedType,a=t.value,o=t.mode,n=t.itemCounter,r=t.key,u=u.toLowerCase(),a=a.replace(/\\\\\\/g,"\\"),s="X-ACTIVITY-ALERT:type="+u+"\\,"+a,i.push(s),n},m=function(t){var e,n,r,o,i,s,u;return i=t.out,s=t.type,e=t.formattedType,u=t.value,o=t.mode,n=t.itemCounter,r=t.key,i.push(""+r+e+":"+u),n},w=function(t,e){var n,r;return n=e.match(/.{1,75}/g).join("\n "),r="PHOTO;ENCODING=B;TYPE=JPEG;VALUE=BINARY:\n "+n,t.push(r)},c.nToFN=function(t){var e,n,r,o,i,s;return t=t||[],e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=[i,n,r,e,s],o=o.filter(function(t){return null!=t&&""!==t}),o.join(" ")},c.fnToN=function(t){return t=t||"",["",t,"","",""]},c.fnToNLastnameNFirstname=function(t){var e,n,r,o,i,s;return t=t||"",s=t.split(" "),n=s[0],o=3<=s.length?B.call(s,1,r=s.length-1):(r=1,[]),e=s[r++],i=[e,n,o.join(" "),"",""]},c.adrArrayToString=function(t){var e,n,r,o;return t=t||[],o=function(t){return t=t.filter(function(t){return null!=t&&""!==t}),t.join(", ")},r=o(t.slice(0,3)),e=o(t.slice(3,7)),n=r,""!==e&&(n+="\n"+e),n},c.adrStringToArray=function(t){return t=t||"",["","",t,"","","",""]},("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=c:window.VCardParser=c}.call(this),function(){var t;t={AA:/[\uA732]/g,A:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g,AE:/[\u00C6\u01FC\u01E2]/g,AO:/[\uA734]/g,AU:/[\uA736]/g,AV:/[\uA738\uA73A]/g,AY:/[\uA73C]/g,B:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g,C:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g,D:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g,DZ:/[\u01F1\u01C4]/g,Dz:/[\u01F2\u01C5]/g,E:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g,F:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g,G:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g,H:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g,I:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g,J:/[\u004A\u24BF\uFF2A\u0134\u0248]/g,K:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g,L:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g,LJ:/[\u01C7]/g,Lj:/[\u01C8]/g,M:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g,N:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g,NJ:/[\u01CA]/g,Nj:/[\u01CB]/g,O:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g,OE:/[\u0152]/g,OI:/[\u01A2]/g,OO:/[\uA74E]/g,OU:/[\u0222]/g,P:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g,Q:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g,R:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g,S:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g,T:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g,TZ:/[\uA728]/g,U:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g,V:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g,VY:/[\uA760]/g,W:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g,X:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g,Y:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g,Z:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g,a:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g,aa:/[\uA733]/g,ae:/[\u00E6\u01FD\u01E3]/g,ao:/[\uA735]/g,au:/[\uA737]/g,av:/[\uA739\uA73B]/g,ay:/[\uA73D]/g,b:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g,c:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g,d:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g,dz:/[\u01F3\u01C6]/g,e:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g,f:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g,g:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g,h:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g,hv:/[\u0195]/g,i:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g,j:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g,k:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g,l:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g,lj:/[\u01C9]/g,m:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g,n:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g,nj:/[\u01CC]/g,o:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g,oe:/[\u0153]/g,oi:/[\u01A3]/g,ou:/[\u0223]/g,oo:/[\uA74F]/g,p:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g,q:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g,r:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g,s:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g,t:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g,tz:/[\uA729]/g,u:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g,v:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g,vy:/[\uA761]/g,w:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g,x:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g,y:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g,z:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/},String.prototype.toAscii=function(){var e;return e=this.match(/[a-zA-Z\s]/g),e&&e.length!==this.length?Object.keys(t).reduce(function(e,n){return e.replace(t[n],n)},this):this.slice()}}.call(this),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.io=t()}}(function(){var t;return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=o(t),i=r.source,c=r.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(u("ignoring socket cache for %s",i),n=s(i,e)):(a[c]||(u("new io instance for %s",i),a[c]=s(i,e)),n=a[c]),n.socket(r.path)}var o=t("./url"),i=t("socket.io-parser"),s=t("./manager"),u=t("debug")("socket.io-client");e.exports=n=r;var a=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(t,e,n){function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new u.Encoder,this.decoder=new u.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(t,e)}var o=(t("./url"),t("engine.io-client")),i=t("./socket"),s=t("component-emitter"),u=t("socket.io-parser"),a=t("./on"),c=t("component-bind"),l=(t("object-component"),t("debug")("socket.io-client:manager")),f=t("indexof"),h=t("backo2");e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},s(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout;
},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=o(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=a(e,"open",function(){n.onopen(),t&&t()}),i=a(e,"error",function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;l("connect attempt will timeout after %d",s);var u=setTimeout(function(){l("connect attempt timed out after %d",s),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(r),this.subs.push(i),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose")))},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new i(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~f(n.connected,e)||n.connected.push(e)})}return e},r.prototype.destroy=function(t){var e=f(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},r.prototype.packet=function(t){l("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){l("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],5:[function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=t("socket.io-parser"),i=t("component-emitter"),s=t("to-array"),u=t("./on"),a=t("component-bind"),c=t("debug")("socket.io-client:socket"),l=t("has-binary");e.exports=n=r;var f={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},h=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[u(t,"open",a(this,"onopen")),u(t,"packet",a(this,"onpacket")),u(t,"close",a(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),n=o.EVENT;l(e)&&(n=o.BINARY_EVENT);var r={type:n,data:e};return"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);c("sending ack %j",r);var i=l(r)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:r})}}},r.prototype.onack=function(t){c("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(t,e,n){(function(n){function r(t,e){var r=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(e&&e.port==r.port?"":":"+r.port),r}var o=t("parseuri"),i=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],8:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],9:[function(t,e,n){function r(t){return t?o(t):void 0}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],10:[function(t,e,n){function r(t){return r.enabled(t)?function(e){e=o(e);var n=new Date,i=n-(r[t]||n);r[t]=n,e=t+" "+e+" +"+r.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=r,r.names=[],r.skips=[],r.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)t=n[i].replace("*",".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$"))},r.disable=function(){r.enable("")},r.humanize=function(t){var e=1e3,n=6e4,r=60*n;return t>=r?(t/r).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},r.enabled=function(t){for(var e=0,n=r.skips.length;n>e;e++)if(r.skips[e].test(t))return!1;for(var e=0,n=r.names.length;n>e;e++)if(r.names[e].test(t))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(i){}},{}],11:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":12}],12:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=l(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var o=e.host.split(":");e.hostname=o.shift(),o.length?e.port=o.pop():e.port||(e.port=this.secure?"443":"80")}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=e.rejectUnauthorized||null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=t("./transports"),s=t("component-emitter"),u=t("debug")("engine.io-client:socket"),a=t("indexof"),c=t("engine.io-parser"),l=t("parseuri"),f=t("parsejson"),h=t("parseqs");e.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=t("./transport"),r.transports=t("./transports"),r.parser=t("engine.io-parser"),r.prototype.createTransport=function(t){u('creating transport "%s"',t);var e=o(this.query);e.EIO=c.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){u("setting transport %s",t.name);var e=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;f=f||e}f||(u('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!f)if("pong"==e.type&&"probe"==e.data){if(u('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"==l.name,u('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){f||"closed"!=h.readyState&&(u("changing transport and sending upgrade packet"),c(),h.setTransport(l),l.send([{type:"upgrade"}]),h.emit("upgrade",l),l=null,h.upgrading=!1,h.flush())})}else{u('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,h.emit("upgradeError",n)}}))}function n(){f||(f=!0,c(),l.close(),l=null)}function o(e){var r=new Error("probe error: "+e);r.transport=l.name,n(),u('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function a(t){l&&t.name!=l.name&&(u('"%s" works - aborting "%s"',t.name,l.name),n())}function c(){l.removeListener("open",e),l.removeListener("error",o),l.removeListener("close",i),h.removeListener("close",s),h.removeListener("upgrading",a)}u('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),f=!1,h=this;r.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",o),l.once("close",i),this.once("close",s),this.once("upgrading",a),l.open()},r.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(u('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(f(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else u('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},r.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:t,data:e};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),u("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){u("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){u('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;r>n;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var o=t("engine.io-parser"),i=t("component-emitter");e.exports=r,i(r.prototype),r.timestamps=0,r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(t,e,n){(function(e){function r(t){var n,r=!1,u=!1,a=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80),r=t.hostname!=location.hostname||l!=t.port,u=t.secure!=c}if(t.xdomain=r,t.xscheme=u,n=new o(t),"open"in n&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var o=t("xmlhttprequest"),i=t("./polling-xhr"),s=t("./polling-jsonp"),u=t("./websocket");n.polling=r,n.websocket=u}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(t,e,n){(function(n){function r(){}function o(t){i.call(this,t),this.query=this.query||{},u||(n.___eio||(n.___eio=[]),u=n.___eio),this.index=u.length;var e=this;u.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var i=t("./polling"),s=t("component-inherit");e.exports=o;var u,a=/\n/g,c=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),u=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),u.name="d",s.appendChild(u),document.body.appendChild(s),this.form=s,this.area=u}this.form.action=this.uri(),r(),t=t.replace(c,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(t,e,n){(function(n){function r(){}function o(t){if(a.call(this,t),n.location){var e="https:"==location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!=n.location.hostname||r!=t.port,this.xs=t.secure!=e}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var u=t("xmlhttprequest"),a=t("./polling"),c=t("component-emitter"),l=t("component-inherit"),f=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=i,l(o,a),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){f("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},c(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new u(t),r=this;try{if(f("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?r.onLoad():setTimeout(function(){r.onError(e.status)},0))},f("xhr data %s",this.data),e.send(this.data)}catch(o){return void setTimeout(function(){r.onError(o)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(e){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(t,e,n){function r(t){var e=t&&t.forceBase64;(!c||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("parseqs"),s=t("engine.io-parser"),u=t("component-inherit"),a=t("debug")("engine.io-client:polling");e.exports=r;var c=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();u(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){a("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(a("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){a("pre-pause polling complete"),--r||e()})),this.writable||(a("we are currently writing - waiting to pause"),r++,this.once("drain",function(){a("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;a("polling got data %s",t);var n=function(t,n,r){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){a("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(t,e,n){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("engine.io-parser"),s=t("parseqs"),u=t("component-inherit"),a=t("debug")("engine.io-client:websocket"),c=t("ws");e.exports=r,u(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new c(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){n.writable=!0,
n.emit("drain")}var n=this;this.writable=!1;for(var r=0,o=t.length;o>r;r++)i.encodePacket(t[r],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){a("websocket closed before onclose event")}});setTimeout(e,0)},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},r.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===r.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":38}],21:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],22:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function u(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=u,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(u())},{"./debug":23}],23:[function(t,e,n){function r(){return n.colors[l++%n.colors.length]}function o(t){function e(){}function o(){var t=o,e=+new Date,i=e-(c||e);t.diff=i,t.prev=c,t.curr=e,c=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;u++;var o=n.formatters[r];if("function"==typeof o){var i=s[u];e=o.call(t,i),s.splice(u,1),u--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s));var a=o.log||n.log||console.log.bind(console);a.apply(t,s)}e.enabled=!1,o.enabled=!0;var i=n.enabled(t)?o:e;return i.namespace=t,i}function i(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,o=0;r>o;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function u(t){var e,r;for(e=0,r=n.skips.length;r>e;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;r>e;e++)if(n.names[e].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=o,n.coerce=a,n.disable=s,n.enable=i,n.enabled=u,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:24}],24:[function(t,e,n){function r(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*a;case"seconds":case"second":case"s":return n*u;case"ms":return n}}}function o(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=u?Math.round(t/u)+"s":t+"ms"}function i(t){return s(t,l,"day")||s(t,c,"hour")||s(t,a,"minute")||s(t,u,"second")||t+" ms"}function s(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var u=1e3,a=60*u,c=60*a,l=24*c,f=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e["long"]?i(t):o(t)}},{}],25:[function(t,e,n){(function(e){function r(t,e){var r="b"+n.packets[t.type]+t.data.data;return e(r)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=g[t.type];for(var u=0;u<i.length;u++)s[u+1]=i[u];return r(s.buffer)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,n.encodePacket(t,e,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(m)return i(t,e,r);var o=new Uint8Array(1);o[0]=g[t.type];var s=new w([o.buffer,t.data]);return r(s)}function u(t,e,n){for(var r=new Array(t.length),o=h(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},s=0;s<t.length;s++)i(s,t[s],o)}var a=t("./keys"),c=t("has-binary"),l=t("arraybuffer.slice"),f=t("base64-arraybuffer"),h=t("after"),p=t("utf8"),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),m=d||y;n.protocol=3;var g=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=a(g),b={type:"error",data:"parser error"},w=t("blob");n.encodePacket=function(t,n,i,u){"function"==typeof n&&(u=n,n=!1),"function"==typeof i&&(u=i,i=null);var a=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&a instanceof ArrayBuffer)return o(t,n,u);if(w&&a instanceof e.Blob)return s(t,n,u);if(a&&a.base64)return r(t,u);var c=g[t.type];return void 0!==t.data&&(c+=i?p.encode(String(t.data)):String(t.data)),u(""+c)},n.encodeBase64Packet=function(t,r){var o="b"+n.packets[t.type];if(w&&t.data instanceof w){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(u){for(var a=new Uint8Array(t.data),c=new Array(a.length),l=0;l<a.length;l++)c[l]=a[l];s=String.fromCharCode.apply(null,c)}return o+=e.btoa(s),r(o)},n.decodePacket=function(t,e,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r)try{t=p.decode(t)}catch(o){return b}var i=t.charAt(0);return Number(i)==i&&v[i]?t.length>1?{type:v[i],data:t.substring(1)}:{type:v[i]}:b}var s=new Uint8Array(t),i=s[0],u=l(t,1);return w&&"blob"===e&&(u=new w([u])),{type:v[i],data:u}},n.decodeBase64Packet=function(t,n){var r=v[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=f.decode(t.substr(1));return"blob"===n&&w&&(o=new w([o])),{type:r,data:o}},n.encodePayload=function(t,e,r){function o(t){return t.length+":"+t}function i(t,r){n.encodePacket(t,s?e:!1,!0,function(t){r(null,o(t))})}"function"==typeof e&&(r=e,e=null);var s=c(t);return e&&s?w&&!m?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void u(t,i,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var o;if(""==t)return r(b,0,1);for(var i,s,u="",a=0,c=t.length;c>a;a++){var l=t.charAt(a);if(":"!=l)u+=l;else{if(""==u||u!=(i=Number(u)))return r(b,0,1);if(s=t.substr(a+1,i),u!=s.length)return r(b,0,1);if(s.length){if(o=n.decodePacket(s,e,!0),b.type==o.type&&b.data==o.data)return r(b,0,1);var f=r(o,a+i,c);if(!1===f)return}a+=i,u=""}}return""!=u?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void u(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}e?o[i++]=0:o[i++]=1;for(var u=n.byteLength.toString(),s=0;s<u.length;s++)o[i++]=parseInt(u[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),e(o.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,n[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),u=new Uint8Array(s.length+1),o=0;o<s.length;o++)u[o]=parseInt(s[o]);if(u[s.length]=255,w){var a=new w([n.buffer,u.buffer,t]);e(null,a)}})}u(t,r,function(t,n){return e(new w(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var o=t,i=[],s=!1;o.byteLength>0;){for(var u=new Uint8Array(o),a=0===u[0],c="",f=1;255!=u[f];f++){if(c.length>310){s=!0;break}c+=u[f]}if(s)return r(b,0,1);o=l(o,2+c.length),c=parseInt(c);var h=l(o,0,c);if(a)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(p){var d=new Uint8Array(h);h="";for(var f=0;f<d.length;f++)h+=String.fromCharCode(d[f])}i.push(h),o=l(o,c)}var y=i.length;i.forEach(function(t,o){r(n.decodePacket(t,e,!0),o,y)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],27:[function(t,e,n){function r(t,e,n){function r(t,o){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(i=!0,e(t),e=n):0!==r.count||i||e(null,o)}var i=!1;return n=n||o,r.count=t,0===t?e():r}function o(){}e.exports=r},{}],28:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(0>e&&(e+=r),0>n&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,u=0;n>s;s++,u++)i[u]=o[s];return i.buffer}},{}],29:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;o>n;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n,r,o,i,s,u=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var l=new ArrayBuffer(u),f=new Uint8Array(l);for(n=0;a>n;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),f[c++]=r<<2|o>>4,f[c++]=(15&o)<<4|i>>2,f[c++]=(3&i)<<6|63&s;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),u=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),a=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return s?u?t.Blob:o:a?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,n,r){(function(e){!function(o){function i(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function s(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function u(t){if(t>=55296&&57343>=t)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function a(t,e){return w(t>>e&63|128)}function c(t){if(0==(4294967168&t))return w(t);var e="";return 0==(4294965248&t)?e=w(t>>6&31|192):0==(4294901760&t)?(u(t),e=w(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=w(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+=w(63&t|128)}function l(t){for(var e,n=i(t),r=n.length,o=-1,s="";++o<r;)e=n[o],s+=c(e);return s}function f(){if(b>=v)throw Error("Invalid byte index");var t=255&g[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(){var t,e,n,r,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(t=255&g[b],b++,0==(128&t))return t;if(192==(224&t)){var e=f();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=f(),n=f(),o=(15&t)<<12|e<<6|n,o>=2048)return u(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=f(),n=f(),r=f(),o=(15&t)<<18|e<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(t){g=i(t),v=g.length,b=0;for(var e,n=[];(e=h())!==!1;)n.push(e);return s(n)}var d="object"==typeof r&&r,y="object"==typeof n&&n&&n.exports==d&&n,m="object"==typeof e&&e;(m.global===m||m.window===m)&&(o=m);var g,v,b,w=String.fromCharCode,E={version:"2.0.0",encode:l,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return E});else if(d&&!d.nodeType)if(y)y.exports=E;else{var k={},_=k.hasOwnProperty;for(var C in E)_.call(E,C)&&(d[C]=E[C])}else o.utf8=E}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,u=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(u,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;o>r;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],34:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=r.exec(t||""),u={},a=14;a--;)u[o[a]]=s[a]||"";return-1!=n&&-1!=i&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},{}],35:[function(t,e,n){function r(t,e,n){var r;return r=e?new i(t,e):new i(t)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;e.exports=i?r:null,i&&(r.prototype=i.prototype)},{}],36:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],38:[function(t,e,n){var r=t("global");try{e.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(o){e.exports=!1}},{global:39}],39:[function(t,e,n){e.exports=function(){return this}()},{}],40:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],41:[function(t,e,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],42:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=r.exec(t||""),n={},i=14;i--;)n[o[i]]=e[i]||"";return n}},{}],43:[function(t,e,n){(function(e){var r=t("isarray"),o=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(r(t)){for(var s=new Array(t.length),u=0;u<t.length;u++)s[u]=e(t[u]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var a in t)s[a]=e(t[a]);return s}return t}var n=[],i=t.data,s=t;return s.data=e(i),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var o=e[t.num];return o}if(r(t)){for(var i=0;i<t.length;i++)t[i]=n(t[i]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=n(t[s]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function i(t,a,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var l=new FileReader;l.onload=function(){c?c[a]=this.result:u=this.result,--s||n(u)},l.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)i(t[f],f,t);else if(t&&"object"==typeof t&&!o(t))for(var h in t)i(t[h],h,t)}var s=0,u=t;i(u),s||n(u)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(t,e,n){function r(){}function o(t){var e="",r=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,e+=t.nsp),null!=t.id&&(r&&(e+=",",r=!1),e+=t.id),null!=t.data&&(r&&(e+=","),e+=f.stringify(t.data)),l("encoded %j as %s",t,e),e}function i(t,e){function n(t){var n=p.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}p.removeBlobs(t,n)}function s(){this.reconstructor=null}function u(t){var e={},r=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return c();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var o="";"-"!=t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!=t.charAt(r))throw new Error("Illegal attachments");e.attachments=Number(o)}if("/"==t.charAt(r+1))for(e.nsp="";++r;){var i=t.charAt(r);if(","==i)break;if(e.nsp+=i,r==t.length)break}else e.nsp="/";var s=t.charAt(r+1);if(""!==s&&Number(s)==s){for(e.id="";++r;){var i=t.charAt(r);if(null==i||Number(i)!=i){--r;break}if(e.id+=t.charAt(r),r==t.length)break}e.id=Number(e.id)}if(t.charAt(++r))try{e.data=f.parse(t.substr(r))}catch(u){return c()}return l("decoded %s as %j",t,e),e}function a(t){this.reconPack=t,this.buffers=[]}function c(t){return{type:n.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),f=t("json3"),h=(t("isarray"),t("component-emitter")),p=t("./binary"),d=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=s,r.prototype.encode=function(t,e){if(l("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)i(t,e);else{var r=o(t);e([r])}},h(s.prototype),s.prototype.add=function(t){var e;if("string"==typeof t)e=u(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new a(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!d(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(t,e,n){e.exports=t(37)},{}],47:[function(e,n,r){!function(e){function n(t){if(n[t]!==s)return n[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=n("json-stringify")&&n("json-parse");else{var r,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var i=l.stringify,a="function"==typeof i&&f;if(a){(r=function(){return 1}).toJSON=r;try{a="0"===i(0)&&"0"===i(new Number)&&'""'==i(new String)&&i(u)===s&&i(s)===s&&i()===s&&"1"===i(r)&&"[1]"==i([r])&&"[null]"==i([s])&&"null"==i(null)&&"[null,null,null]"==i([s,u,null])&&i({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===i(null,r)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new Date(-1))}catch(c){a=!1}}e=a}if("json-parse"==t){var h=l.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){r=h(o);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!h('"	"')}catch(c){}if(p)try{p=1!==h("01")}catch(c){}if(p)try{p=1!==h("1.")}catch(c){}}}}catch(c){p=!1}e=p}}return n[t]=!!e}var o,i,s,u={}.toString,a="function"==typeof t&&t.amd,c="object"==typeof JSON&&JSON,l="object"==typeof r&&r&&!r.nodeType&&r;l&&c?(l.stringify=c.stringify,l.parse=c.parse):l=e.JSON=c||{};var f=new Date(-0xc782b5b800cec);try{f=-109252==f.getUTCFullYear()&&0===f.getUTCMonth()&&1===f.getUTCDate()&&10==f.getUTCHours()&&37==f.getUTCMinutes()&&6==f.getUTCSeconds()&&708==f.getUTCMilliseconds()}catch(h){}if(!n("json")){var p="[object Function]",d="[object Date]",y="[object Number]",m="[object String]",g="[object Array]",v="[object Boolean]",b=n("bug-string-char-index");if(!f)var w=Math.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(t,e){return E[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)};(o={}.hasOwnProperty)||(o=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=u?o=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,o=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,o.call(this,t)});var _={"boolean":1,number:1,string:1,undefined:1},C=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!_[n]};if(i=function(t,e){var n,r,s,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(s in r)o.call(r,s)&&a++;return n=r=null,a?i=2==a?function(t,e){var n,r={},i=u.call(t)==p;for(n in t)i&&"prototype"==n||o.call(r,n)||!(r[n]=1)||!o.call(t,n)||e(n)}:function(t,e){var n,r,i=u.call(t)==p;for(n in t)i&&"prototype"==n||!o.call(t,n)||(r="constructor"===n)||e(n);(r||o.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(t,e){var n,i,s=u.call(t)==p,a=!s&&"function"!=typeof t.constructor&&C(t,"hasOwnProperty")?t.hasOwnProperty:o;for(n in t)s&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),i(t,e)},!n("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",S=function(t,e){return(D+(e||0)).slice(-t)},x="\\u00",T=function(t){var e,n='"',r=0,o=t.length,i=o>10&&b;for(i&&(e=t.split(""));o>r;r++){var s=t.charCodeAt(r);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=A[s];break;default:if(32>s){n+=x+S(2,s.toString(16));break}n+=i?e[r]:b?t.charAt(r):t[r]}}return n+'"'},F=function(t,e,n,r,a,c,l){var f,h,p,b,E,_,C,A,D,x,O,M,B,j,P,Y;try{f=e[t]}catch(L){}if("object"==typeof f&&f)if(h=u.call(f),h!=d||o.call(f,"toJSON"))"function"==typeof f.toJSON&&(h!=y&&h!=m&&h!=g||o.call(f,"toJSON"))&&(f=f.toJSON(t));else if(f>-1/0&&1/0>f){if(k){for(E=w(f/864e5),p=w(E/365.2425)+1970-1;k(p+1,0)<=E;p++);for(b=w((E-k(p,0))/30.42);k(p,b+1)<=E;b++);E=1+E-k(p,b),_=(f%864e5+864e5)%864e5,C=w(_/36e5)%24,A=w(_/6e4)%60,D=w(_/1e3)%60,x=_%1e3}else p=f.getUTCFullYear(),b=f.getUTCMonth(),E=f.getUTCDate(),C=f.getUTCHours(),A=f.getUTCMinutes(),D=f.getUTCSeconds(),x=f.getUTCMilliseconds();f=(0>=p||p>=1e4?(0>p?"-":"+")+S(6,0>p?-p:p):S(4,p))+"-"+S(2,b+1)+"-"+S(2,E)+"T"+S(2,C)+":"+S(2,A)+":"+S(2,D)+"."+S(3,x)+"Z"}else f=null;if(n&&(f=n.call(e,t,f)),null===f)return"null";if(h=u.call(f),h==v)return""+f;if(h==y)return f>-1/0&&1/0>f?""+f:"null";if(h==m)return T(""+f);if("object"==typeof f){for(j=l.length;j--;)if(l[j]===f)throw TypeError();if(l.push(f),O=[],P=c,c+=a,h==g){for(B=0,j=f.length;j>B;B++)M=F(B,f,n,r,a,c,l),O.push(M===s?"null":M);Y=O.length?a?"[\n"+c+O.join(",\n"+c)+"\n"+P+"]":"["+O.join(",")+"]":"[]"}else i(r||f,function(t){var e=F(t,f,n,r,a,c,l);e!==s&&O.push(T(t)+":"+(a?" ":"")+e)}),Y=O.length?a?"{\n"+c+O.join(",\n"+c)+"\n"+P+"}":"{"+O.join(",")+"}":"{}";return l.pop(),Y}};l.stringify=function(t,e,n){var r,o,i,s;if("function"==typeof e||"object"==typeof e&&e)if((s=u.call(e))==p)o=e;else if(s==g){i={};for(var a,c=0,l=e.length;l>c;a=e[c++],s=u.call(a),(s==m||s==y)&&(i[a]=1));}if(n)if((s=u.call(n))==y){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==m&&(r=n.length<=10?n:n.slice(0,10));return F("",(a={},a[""]=t,a),o,i,r,"",[])}}if(!n("json-parse")){var O,M,B=String.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw O=M=null,SyntaxError()},Y=function(){for(var t,e,n,r,o,i=M,s=i.length;s>O;)switch(o=i.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?i.charAt(O):i[O],O++,t;case 34:for(t="@",O++;s>O;)if(o=i.charCodeAt(O),32>o)P();else if(92==o)switch(o=i.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=j[o],O++;break;case 117:for(e=++O,n=O+4;n>O;O++)o=i.charCodeAt(O),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||P();t+=B("0x"+i.slice(e,O));break;default:P()}else{if(34==o)break;for(o=i.charCodeAt(O),e=O;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++O);t+=i.slice(e,O)}if(34==i.charCodeAt(O))return O++,t;P();default:if(e=O,45==o&&(r=!0,o=i.charCodeAt(++O)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(O+1),o>=48&&57>=o)&&P(),r=!1;s>O&&(o=i.charCodeAt(O),o>=48&&57>=o);O++);if(46==i.charCodeAt(O)){for(n=++O;s>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==O&&P(),O=n}if(o=i.charCodeAt(O),101==o||69==o){for(o=i.charCodeAt(++O),(43==o||45==o)&&O++,n=O;s>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==O&&P(),O=n}return+i.slice(e,O)}if(r&&P(),"true"==i.slice(O,O+4))return O+=4,!0;if("false"==i.slice(O,O+5))return O+=5,!1;if("null"==i.slice(O,O+4))return O+=4,null;P()}return"$"},L=function(t){var e,n;if("$"==t&&P(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=Y(),"]"!=t;n||(n=!0))n&&(","==t?(t=Y(),"]"==t&&P()):P()),","==t&&P(),e.push(L(t));return e}if("{"==t){for(e={};t=Y(),"}"!=t;n||(n=!0))n&&(","==t?(t=Y(),"}"==t&&P()):P()),(","==t||"string"!=typeof t||"@"!=(b?t.charAt(0):t[0])||":"!=Y())&&P(),e[t.slice(1)]=L(Y());return e}P()}return t},I=function(t,e,n){var r=N(t,e,n);r===s?delete t[e]:t[e]=r},N=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if(u.call(o)==g)for(r=o.length;r--;)I(o,r,n);else i(o,function(t){I(o,t,n)});return n.call(t,e,o)};l.parse=function(t,e){var n,r;return O=0,M=""+t,n=L(Y()),"$"!=Y()&&P(),O=M=null,e&&u.call(e)==p?N((r={},r[""]=n,r),"",e):n}}}a&&t(function(){return l})}(this)},{}],48:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}]},{},[1])(1)});var TALKER_TYPE="application/x-talkerjs-v1+json",TALKER_ERR_TIMEOUT="timeout",pinkySwearPromise=function(){function t(t){return"function"==typeof t}function e(t){return"object"==typeof t}function n(t){"undefined"!=typeof setImmediate?setImmediate(t):"undefined"!=typeof process&&process.nextTick?process.nextTick(t):setTimeout(t,0)}var r;return function o(){var i,s=[],u=[],a=function(t,e){return null==i&&null!=t&&(i=t,s=e,u.length&&n(function(){for(var t=0;t<u.length;t++)u[t]()})),i};return a.then=function(a,c){var l=o(),f=function(){function n(o){var i,s=0;try{if(o&&(e(o)||t(o))&&t(i=o.then)){if(o===l)throw new TypeError;i.call(o,function(){s++||n.apply(r,arguments)},function(t){s++||l(!1,[t])})}else l(!0,arguments)}catch(u){s++||l(!1,[u])}}try{var o=i?a:c;t(o)?n(o.apply(r,s||[])):l(i,s)}catch(u){l(!1,[u])}};return null!=i?n(f):u.push(f),l},a}}(),objectCreate=function(t){function e(){}return e.prototype=t,new e},Talker=function(t,e){this.remoteWindow=t,this.remoteOrigin=e,this.timeout=3e3,this.handshaken=!1,this.handshake=pinkySwearPromise(),this._id=0,this._queue=[],this._sent={};var n=this;return window.addEventListener("message",function(t){n._receiveMessage(t)},!1),this._sendHandshake(),this};Talker.prototype.send=function(t,e,n){var r=new Talker.OutgoingMessage(this,t,e,n),o=pinkySwearPromise();return this._sent[r.id]=o,this._queue.push(r),this._flushQueue(),setTimeout(function(){o(!1,[new Error(TALKER_ERR_TIMEOUT)])},this.timeout),o},Talker.prototype._receiveMessage=function(t){var e,n;try{e=JSON.parse(t.data)}catch(r){e={}}return this._isSafeMessage(t.source,t.origin,e.type)?(n=e.handshake||e.handshakeConfirmation,n?this._handleHandshake(e):this._handleMessage(e)):!1},Talker.prototype._isSafeMessage=function(t,e,n){var r,o,i;return r=t===this.remoteWindow,o="*"===this.remoteOrigin||e===this.remoteOrigin,i=n===TALKER_TYPE,r&&o&&i},Talker.prototype._handleHandshake=function(t){t.handshake&&this._sendHandshake(this.handshaken),this.handshaken=!0,this.handshake(!0,[this.handshaken]),this._flushQueue()},Talker.prototype._handleMessage=function(t){var e=new Talker.IncomingMessage(this,t.namespace,t.data,t.id),n=t.responseToId;return n?this._respondToMessage(n,e):this._broadcastMessage(e)},Talker.prototype._respondToMessage=function(t,e){this._sent[t]&&(this._sent[t](!0,[e]),delete this._sent[t])},Talker.prototype._broadcastMessage=function(t){
this.onMessage&&this.onMessage.call(this,t)},Talker.prototype._sendHandshake=function(t){var e={type:TALKER_TYPE},n=t?"handshakeConfirmation":"handshake";e[n]=!0,this._postMessage(e)},Talker.prototype._nextId=function(){return this._id+=1},Talker.prototype._postMessage=function(t){this.remoteWindow&&this.remoteOrigin&&this.remoteWindow.postMessage(JSON.stringify(t),this.remoteOrigin)},Talker.prototype._flushQueue=function(){if(this.handshaken){var t=this._queue.shift();if(!t)return this._queue;if(this._postMessage(t),this._queue.length>0)return this._flushQueue()}return this._queue},Talker.Message=function(t,e,n){return this.talker=t,this.namespace=e,this.data=n,this.type=TALKER_TYPE,this},Talker.OutgoingMessage=function(t,e,n,r){Talker.Message.call(this,t,e,n),this.responseToId=r||null,this.id=this.talker._nextId()},Talker.OutgoingMessage.prototype=objectCreate(Talker.Message.prototype),Talker.OutgoingMessage.prototype.constructor=Talker.Message,Talker.OutgoingMessage.prototype.toJSON=function(){return{id:this.id,responseToId:this.responseToId,namespace:this.namespace,data:this.data,type:this.type}},Talker.IncomingMessage=function(t,e,n,r){Talker.Message.call(this,t,e,n),this.id=r},Talker.IncomingMessage.prototype=objectCreate(Talker.Message.prototype),Talker.IncomingMessage.prototype.constructor=Talker.Message,Talker.IncomingMessage.prototype.respond=function(t){return this.talker.send(null,t,this.id)};